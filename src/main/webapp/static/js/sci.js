(()=>{"use strict";var t={d:(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{DataRow:()=>i,DataSet:()=>u,FieldDefs:()=>n,FieldMeta:()=>r,Handle:()=>o,HtmlWriter:()=>h,RemoteService:()=>p,SearchDataSet:()=>s,ServiceQuery:()=>f,TA:()=>A,TButton:()=>g,TComponent:()=>l,TDiv:()=>v,TEditText:()=>rt,TForm:()=>D,TGrid:()=>Q,TGridColumn:()=>G,TGridGroup:()=>B,TGridGroupChild:()=>K,TGridGroupMaster:()=>J,TInput:()=>L,TLine:()=>I,TMutiPage:()=>Y,TPage:()=>k,TPanel:()=>et,TSpan:()=>b,TTable:()=>C,TTd:()=>j,TText:()=>_,TTh:()=>P,TTr:()=>S,TWinForm:()=>$});const o=function(t){this.sessionId=t},r=function(){function t(t,e){this.code=null,this.name=null,this.remark=null,this.type=null,this.kind=null,this.code=t,this.kind=e}return t.prototype.getCode=function(){return this.code},t.prototype.getName=function(){return this.name},t.prototype.setName=function(t){return this.name=t,this},t.prototype.getRemark=function(){return this.remark},t.prototype.setRemark=function(t){this.remark=t},t.prototype.getType=function(){return this.type},t.prototype.setType=function(t){return this.type=t,this},t.prototype.getKind=function(){return this.kind},t.prototype.setKind=function(t){this.kind=t},Object.defineProperty(t.prototype,"onGetText",{get:function(){return this._onGetText},set:function(t){this._onGetText=t},enumerable:!1,configurable:!0}),t}(),n=function(){function t(){this.fields=[]}return t.prototype.add=function(t,e){if(void 0===e&&(e=null),this.exists(t))return this.get(t);var o=new r(t,e);return this.fields.push(o),o},t.prototype.exists=function(t){for(var e=0;e<this.fields.length;e++)if(this.fields[e].getCode()==t)return!0;return!1},t.prototype.get=function(t){var e=null;return this.fields.forEach((function(o){o.getCode()!=t||(e=o)})),e},t.prototype.size=function(){return this.fields.length},t.prototype.clear=function(){this.fields=[]},t.prototype.forEach=function(t){for(var e=0,o=this.fields;e<o.length;e++){var r=o[e];t.call(this,r)}},t.prototype.getItems=function(){return this.fields},t}(),i=function(){function t(t){void 0===t&&(t=null),this.state=0,this.items=new Map,this.delta=new Map,t?(this.dataSet=t,this.fieldDefs=t.getFieldDefs()):this.fieldDefs=new n}return t.prototype.getState=function(){return this.state},t.prototype.setState=function(t){return 2==t&&1==this.state||(0==t&&this.delta.clear(),this.state=t),this},t.prototype.close=function(){this.items.clear()},t.prototype.setValue=function(t,e){if(!t)throw new Error("field is null!");return this.addFieldDef(t),this.items.set(t,e),this},t.prototype.copyValues=function(t,e){var o=this;void 0===e&&(e=null),null==e&&(e=t.getFieldDefs()),e.forEach((function(e){o.setValue(e.getCode(),t.getValue(e.getCode()))}))},t.prototype.addFieldDef=function(t){if(null==t)throw new Error("field is null");this.fieldDefs.exists(t)||this.fieldDefs.add(t)},t.prototype.getValue=function(t){if(!t)throw new Error("field is null!");var e=this.items.get(t);return null==e?null:e},t.prototype.getString=function(t){var e=this.getValue(t);return e?""+e:""},t.prototype.getBoolean=function(t){return!!this.getValue(t)},t.prototype.getDouble=function(t){var e=this.getString(t);return parseFloat(e)?parseFloat(e):0},t.prototype.getText=function(t){var e=this.getFieldDefs().add(t);return null!=e.onGetText?e.onGetText(this,e):this.getString(t)},t.prototype.setText=function(t,e){var o=this.getFieldDefs().add(t);return null!=o.OnSetText?this.setValue(o.getCode(),o.OnSetText(this,o)):this.setValue(t,e),this},t.prototype.size=function(){return this.items.size},t.prototype.getDelta=function(){return this.delta},t.prototype.getJson=function(){for(var t={},e=0,o=this.fieldDefs.getItems();e<o.length;e++){var r=o[e].getCode();t[r]=this.getValue(r)}return JSON.stringify(t)},t.prototype.setJson=function(t){if(!t)throw new Error("jsonText is null!");var e;for(var o in e="string"==typeof t?JSON.parse(t):t)this.setValue(o,e[o])},t.prototype.getFieldDefs=function(){return this.dataSet?this.dataSet.getFieldDefs():(this.fieldDefs||(this.fieldDefs=new n),this.fieldDefs)},t.prototype.getItems=function(){return this.items},t.prototype.forEach=function(t){for(var e=0,o=this.fieldDefs.getItems();e<o.length;e++){var r=o[e].getCode();t.call(this,r,this.getValue(r))}},t.prototype.getDataSet=function(){return this.dataSet},t}(),s=function(){function t(t){this.items=new Map,this.keys=new Set,this.dataSet=t}return t.prototype.get=function(t,e){var o,r=this;if(!t)throw new Error("fields can't be null");if(0===(o="object"!=typeof e?[e]:e).length)throw new Error("keys can't values length = 0 ");if(this.fields!==t&&(this.clear(),this.fields=t,this.fields.split(";").forEach((function(t){if(r.dataSet.size()>0&&r.dataSet.getFieldDefs().size()>0&&r.dataSet.exists(t))throw new Error("field "+t+" not find !");r.keys.add(t)})),this.keys.size>0))for(this.dataSet.first();this.dataSet.fetch();)this.append(this.dataSet.getCurrent());if(this.keys.size!==o.length)throw new Error("[参数名称]与[值]个数不匹配");return this.items.get(this.buildObjectKey(o))},t.prototype.remove=function(t){this.items.delete(this.buildRecordKey(t))},t.prototype.append=function(t){this.items.set(this.buildRecordKey(t),t)},t.prototype.clear=function(){this.fields=null,this.keys.clear(),this.items.clear()},t.prototype.buildRecordKey=function(t){var e=[];return this.keys.forEach((function(o){return e.push(t.getString(o)||"null")})),e.join(";")},t.prototype.buildObjectKey=function(t){var e=[];return t.forEach((function(t){return e.push(""+t||"null")})),e.join(";")},t}(),u=function(){function t(t){void 0===t&&(t=null),this.recNo=0,this.fetchNo=-1,this.state=0,this.message="",this.fieldDefs=new n,this.metaInfo=!1,this.head=new i,this.records=[],t&&this.setJson(t)}return t.prototype.getCurrent=function(){if(this.eof())throw new Error("eof == true");if(this.bof())throw new Error("bof == true");var t=this.recNo-1;return this.records[t]},t.prototype.append=function(){var t=new i(this);return this.records.push(t),this.recNo=this.records.length,this},t.prototype.delete=function(){this.getCurrent()&&(this.setRecNo(this.getRecNo()-1),this.records.splice(this.getRecNo(),1))},t.prototype.first=function(){return this.records.length>0?this.recNo=1:this.recNo=0,this.fetchNo=-1,this.recNo>0},t.prototype.last=function(){return this.recNo=this.records.length,this.recNo>0},t.prototype.next=function(){return this.records.length>0&&this.recNo<=this.records.length&&(this.recNo++,!0)},t.prototype.bof=function(){return 0===this.recNo},t.prototype.eof=function(){return 0===this.records.length||this.recNo>this.records.length},t.prototype.size=function(){return this.records.length},t.prototype.getRecNo=function(){return this.recNo},t.prototype.setRecNo=function(t){if(t>this.records.length)throw new Error("RecNo "+this.recNo+" 大于总长度 "+this.records.length);t>-1&&(this.recNo=t)},t.prototype.fetch=function(){var t=!1;return this.fetchNo<this.records.length-1&&(this.fetchNo++,this.setRecNo(this.fetchNo+1),t=!0),t},t.prototype.copyRecord=function(t,e){var o=this.getCurrent();this.search?(this.search.remove(o),o.copyValues(t,e),this.search.append(o)):o.copyValues(t,e)},t.prototype.exists=function(t){return this.fieldDefs.exists(t)},t.prototype.getHead=function(){return null==this.head&&(this.head=new i),this.head},t.prototype.getRecords=function(){return this.records},t.prototype.getFieldDefs=function(){return this.fieldDefs},t.prototype.setValue=function(t,e){return this.getCurrent().setValue(t,e),this},t.prototype.getValue=function(t){return this.getCurrent().getValue(t)},t.prototype.getString=function(t){return this.getCurrent().getString(t)},t.prototype.getDouble=function(t){return this.getCurrent().getDouble(t)},t.prototype.getText=function(t){return this.getCurrent().getText(t)},t.prototype.clear=function(){this.getHead().getFieldDefs().clear(),this.getFieldDefs().clear(),this.close()},t.prototype.close=function(){this.head.close(),this.search=null,this.records=[],this.recNo=0,this.fetchNo=-1},t.prototype.locate=function(t,e){this.search||(this.search=new s(this));var o=this.search.get(t,e);return!!o&&(this.setRecNo(Array.from(this.records).indexOf(o)+1),!0)},t.prototype.getJson=function(){var t=this,e={};if(0!==this.state&&(e.state=this.state),this.message&&(e.message=this.message),this.metaInfo){if(e.meta={},this.getHead().getFieldDefs().size()>0){var o=[];this.getHead().getFieldDefs().forEach((function(t){var e={};t.getRemark()?e[t.getCode()]=[t.getType(),t.getName(),t.getRemark()]:t.getName()?e[t.getCode()]=[t.getType(),t.getName()]:e[t.getCode()]=[t.getType()],o.push(e)})),e.meta.head=o}if(this.records.length>0){var r=[];this.getFieldDefs().forEach((function(t){var e={};t.getRemark()?e[t.getCode()]=[t.getType(),t.getName(),t.getRemark()]:t.getName()?e[t.getCode()]=[t.getType(),t.getName()]:e[t.getCode()]=[t.getType()],r.push(e)})),e.meta.body=r}}if(this.head.size()>0&&(this.metaInfo?(e.head=[],this.head.getFieldDefs().forEach((function(o){e.head.push(t.head.getValue(o.getCode()))}))):(e.head={},this.head.forEach((function(t,o){e.head[t]=o})))),this.size()>0){if(e.body=[],!this.metaInfo){for(var n=[],i=0,s=this.getFieldDefs().getItems();i<s.length;i++){var u=s[i];n.push(u.getCode())}e.body.push(n)}for(var p=0,c=this.records;p<c.length;p++){for(var a=c[p],f=[],h=0,l=this.getFieldDefs().getItems();h<l.length;h++)u=l[h],f.push(a.getValue(u.getCode()));e.body.push(f)}}return JSON.stringify(e)},t.prototype.setJson=function(t){var e=this;if(this.clear(),!t)return this;if(!t)throw new Error("json is null!");"string"==typeof t&&(t=JSON.parse(t)),t.hasOwnProperty("state")&&(this.state=t.state),t.hasOwnProperty("message")&&(this.message=t.message);var o=[];if(t.hasOwnProperty("meta")){if(this.setMetaInfo(!0),this.meta=t.meta,this.meta.head){this.head=new i;var r=0;this.meta.head.forEach((function(o){for(var n in o){var i=o[n],s=e.head.getFieldDefs().add(n);i.length>2&&s.setRemark(i[2]),i.length>1&&s.setName(i[1]),i.length>0&&s.setType(i[0]),e.head.setValue(n,t.head[r]),r+=1}}))}if(this.meta.body){var n=0;this.meta.body.forEach((function(t){for(var r in t){var i=t[r],s=e.getFieldDefs().add(r);i.length>2&&s.setRemark(i[2]),i.length>1&&s.setName(i[1]),i.length>0&&s.setType(i[0]),o[n]=r,n+=1}}))}}else this.setMetaInfo(!1),t.hasOwnProperty("head")&&this.head.setJson(t.head);var s=t.dataset||t.body;if(s){if(s&&s.length>0)for(var u=0;u<s.length;u++)if(this.meta||0!=u)for(var p=s[u],c=this.append().getCurrent(),a=0;a<o.length;a++)c.setValue(o[a],p[a]);else o=s[0];this.first()}return this},t.prototype.getState=function(){return this.state},t.prototype.setState=function(t){return this.state=t,this},t.prototype.getMessage=function(){return this.message},t.prototype.setMessage=function(t){return this.message=t,this},t.prototype.setMetaInfo=function(t){return this.metaInfo=t,this},t.prototype.getMetaInfo=function(){return this.metaInfo},t.prototype.appendDataSet=function(t){var e=this;for(t.getHead().getFieldDefs().forEach((function(o){e.getHead().setValue(o.getCode(),t.getHead().getValue(o.getCode()))})),t.first();t.fetch();)this.append(),t.getFieldDefs().forEach((function(o){e.setValue(o.getCode(),t.getValue(o.getCode()))}))},t.prototype.forEach=function(t){for(var e=0,o=this.records;e<o.length;e++){var r=o[e];t.call(this,r)}},t}(),p=function(){function t(t){this.owner=null,this.sid=null,this.host="/services/",this._dataIn=new u,t&&(this.owner=t,t.sid&&(this.sid=t.sid),t.host&&(this.host=t.host))}return t.prototype.exec=function(t){if(this.service){var e=this.host+this.service;this.sid&&(e=e+"?sid="+this.sid),fetch(e,{method:"POST",body:"dataIn="+this.getDataIn().getJson(),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var o=e.headers.get("content-type");if("application/json;charset=utf-8"==o)return e.json();console.log(e.body),t.call(this,(new u).setMessage("not support:"+o))})).then((function(e){var o=new u(JSON.stringify(e));t.call(this,o)}))}else t.call(this,(new u).setMessage("service is null"))},t.prototype.getDataIn=function(){return this._dataIn},t.prototype.setDataIn=function(t){return this._dataIn=t,this},t.prototype.setHost=function(t){return this.host=t,this},t.prototype.setService=function(t){return this.service=t,this},t}();var c,a=(c=function(t,e){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},c(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});const f=function(t){function e(e){var o=t.call(this,e)||this;return o.sql="",o}return a(e,t),e.prototype.add=function(t){return this.sql=this.sql.trim()+" "+t.trim(),this},e.prototype.getSqlText=function(){return this.sql},e.prototype.setSqlText=function(t){return this.sql=t,this},e.prototype.open=function(t){this.setService(this.findTableName(this.sql)),this.getDataIn().getHead().setValue("_service_filter_",this.sql),this.exec(t)},e.prototype.findTableName=function(t){for(var e=null,o=t.split(" "),r=0;r<o.length;r++)if("from"==o[r].toLowerCase()){for(;null==o[r+1]||""==o[r+1].trim();)r++;e=o[++r];break}if(null==e)throw new Error("sql command error");return e},e}(p),h=function(){function t(){this.lines=[]}return t.prototype.print=function(t){return this.lines.push(t),this},t.prototype.println=function(t){return this.lines.push(t+"\n"),this},t.prototype.getText=function(){var t="";return this.lines.forEach((function(e){t+=e})),t},t}(),l=function(){function t(t){this.components=new Set,this.propertys=new Map,this.events=new Map,this.owner=t,this.setOwner(t)}return t.prototype.getOwner=function(){return this.owner},t.prototype.setOwner=function(t){return this.owner&&this.owner.removeComponent(this),t&&t.addComponent(this),this.owner=t,this},t.prototype.addComponent=function(t){return null==t||this.components.has(t)||(t.owner=this,null==t.origin&&(t.origin=null!=this.origin?this.origin:this),this.components.add(t)),this},t.prototype.removeComponent=function(t){return null!=t&&(t.origin==t.owner&&(t.origin=null),t.owner=null,this.components.delete(t)),this},t.prototype.getComponents=function(){return Array.from(this.components.values())},t.prototype.getComponentCount=function(){return this.components.size},t.prototype.setRootLabel=function(t){return this.rootLabel=t,this},t.prototype.getRootLabel=function(){return this.rootLabel},t.prototype.beginOutput=function(t){this.rootLabel&&(t.print("<"+this.rootLabel),this.propertys.forEach((function(e,o){t.print(" "+o+'="'+e+'"')})),t.print(">"))},t.prototype.output=function(t){this.beginOutput(t);for(var e=0,o=this.getComponents();e<o.length;e++)o[e].output(t);this.endOutput(t)},t.prototype.endOutput=function(t){this.rootLabel&&t.print("</"+this.rootLabel+">")},t.prototype.toString=function(){var t=new h;return this.output(t),t.getText()},t.prototype.readProperty=function(t){return this.propertys.get(t)},t.prototype.writeProperty=function(t,e){return this.propertys.set(t,e),this},t.prototype.getId=function(){return this.readProperty("id")},t.prototype.setId=function(t){return this.writeProperty("id",t),this},t.prototype.setCssClass=function(t){return this.writeProperty("class",t),this},t.prototype.getCssClass=function(){return this.readProperty("class")},t.prototype.setCssStyle=function(t){return this.writeProperty("style",t),this},t.prototype.getCssStyle=function(){return this.readProperty("style")},t.prototype.render=function(t){void 0===t&&(t=null),null!=t&&this.setContainer(t);var e=new h;if(this.output(e),"undefined"!=typeof document&&null!=document){var o=this.container?this.container:this.getId();if(!o)throw new Error("render error: container is null");var r=document.getElementById(o);if(!r)throw new Error("not find element: "+o);r.innerHTML=e.getText(),this.registerEvents(this)}else console.log(e.getText())},t.prototype.registerEvents=function(t){t.getId()&&t.events.forEach((function(e,o){var r=document.getElementById(t.getId());if(!r)throw new Error("not find element: "+t.getId());r.addEventListener(o,e)}));for(var e=0,o=t.getComponents();e<o.length;e++){var r=o[e];this.registerEvents(r)}},t.prototype.addEventListener=function(t,e){if(!this.getId())throw new Error("this id is null");this.events.set(t,e)},t.prototype.getName=function(){return this.readProperty("name")},t.prototype.setName=function(t){return this.writeProperty("name",t),this},t.prototype.getContainer=function(){return this.container},t.prototype.setContainer=function(t){return this.container=t,this},t}();var y=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const g=function(t){function e(e){var o=t.call(this,e)||this;return o.setRootLabel("button"),o}return y(e,t),e.prototype.setText=function(t){return this.text=t,this},e.prototype.getText=function(){return this.text},e.prototype.output=function(t){this.beginOutput(t),this.text&&t.print(this.text),this.endOutput(t)},e}(l);var d=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const v=function(t){function e(e){var o=t.call(this,e)||this;return o.setRootLabel("div"),o}return d(e,t),e}(l);var w=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const _=function(t){function e(e){return t.call(this,e)||this}return w(e,t),e.prototype.setText=function(t){this.text=t},e.prototype.getText=function(){return this.text},e.prototype.output=function(t){t.print(this.text)},e}(l);var m=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const b=function(t){function e(e){var o=t.call(this,e)||this;return o.setRootLabel("span"),o}return m(e,t),e.prototype.setText=function(t){return this.span||(this.span=new _(this)),this.span.setText(t),this},e.prototype.getText=function(){return null==this.span?null:this.span.getText()},e}(l);var O=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const C=function(t){function e(e){var o=t.call(this,e)||this;return o.setRootLabel("table"),o}return O(e,t),e.prototype.setBorder=function(t){return this.writeProperty("border",t),this},e.prototype.getBorder=function(){return this.readProperty("border")},e}(l);var T=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const S=function(t){function e(e){void 0===e&&(e=null);var o=t.call(this,e)||this;return o.setRootLabel("tr"),o}return T(e,t),e}(l);var x=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const P=function(t){function e(e){var o=t.call(this,e)||this;return o.setRootLabel("th"),o}return x(e,t),e}(l);var E=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const j=function(t){function e(e){var o=t.call(this,e)||this;return o.setRootLabel("td"),o}return E(e,t),e}(l);var N=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const D=function(t){function e(e){var o=t.call(this,e)||this;return o.setRootLabel("form"),o}return N(e,t),e.prototype.setMethod=function(t){return this.writeProperty("method",t),this},e.prototype.getMethod=function(){return this.readProperty("method")},e.prototype.setAction=function(t){return this.writeProperty("action",t),this},e.prototype.getAction=function(){return this.readProperty("action")},e}(l);var V=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const I=function(t){function e(e){var o=t.call(this,e)||this;return o.setRootLabel("hr"),o}return V(e,t),e.prototype.output=function(t){t.print("<hr/>")},e}(l);var R=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const A=function(t){function e(e){var o=t.call(this,e)||this;return o.setRootLabel("a"),o.text=new _(o),o}return R(e,t),e.prototype.getHref=function(){return this.readProperty("href")},e.prototype.setHref=function(t){return this.writeProperty("href",t),this},e.prototype.getText=function(){return this.text.getText()},e.prototype.setText=function(t){return this.text.setText(t),this},e}(l);var F=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const L=function(t){function e(e){var o=t.call(this,e)||this;return o.setRootLabel("input"),o}return F(e,t),e.prototype.setName=function(t){return this.writeProperty("name",t),this},e.prototype.getName=function(){return this.readProperty("name")},e.prototype.setValue=function(t){return this.writeProperty("value",t),this},e.prototype.getValue=function(){return this.readProperty("value")},e.prototype.getHtmlValue=function(){return document.getElementById(this.getId()).innerText},e}(l);var M=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const k=function(t){function e(e){return t.call(this,e)||this}return M(e,t),e.prototype.run=function(){this.render()},e}(l);var z=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const G=function(t){function e(e,o,r){void 0===r&&(r=null);var n=t.call(this,e)||this;return n.width=0,n._export=!0,n._visible=!0,n.code=o,n.name=r||o,n}return z(e,t),e.prototype.getCode=function(){return this.code},e.prototype.getName=function(){return this.name},e.prototype.getColspan=function(){return this.readProperty("colspan")},e.prototype.setColspan=function(t){return this.writeProperty("colspan",t),this},e.prototype.getWidth=function(){return this.width},e.prototype.setWidth=function(t){return this.width=t,this},e.prototype.setAlign=function(t){return this.align=t,this},e.prototype.getAlign=function(){return this.align},e.prototype.getExport=function(){return this._export},e.prototype.setExport=function(t){return this._export=t,this},e.prototype.getVisible=function(){return this._visible},e.prototype.setVisible=function(t){return this._visible=t,this},e}(l);var H=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const B=function(t){function e(e){var o=t.call(this,e)||this;return o.MaxWidth=600,o.titleVisiable=!0,o}return H(e,t),e.prototype.setCurrent=function(t){this.current=t},e.prototype.getCurrent=function(){return this.current},e.prototype.getTotalWidth=function(){var t=0;if(this.getComponents().forEach((function(e){e instanceof G&&(t+=e.getWidth())})),t<0)throw new Error("总列宽不允许小于1");if(t>this.MaxWidth)throw new Error("总列宽不允许大于 "+this.MaxWidth);return t},e.prototype.getTitleVisiable=function(){return this.titleVisiable},e.prototype.setTitleVisiable=function(t){return this.titleVisiable=t,this},e.prototype.getColumn=function(t){for(var e=0,o=this.getComponents();e<o.length;e++){var r=o[e];if(r.getCode()==t)return r}return null},e.prototype.forEach=function(t){for(var e=0,o=this.getComponents();e<o.length;e++){var r=o[e];r instanceof G&&t.call(this,r)}},e.prototype.outputOfGridTitle=function(t){if(this.getTitleVisiable()){for(var e=new S,o=0,r=this.getComponents();o<r.length;o++){var n=r[o];if(n instanceof G){var i=n;if(!i.getVisible())continue;var s=new P(e);if(i.getColspan()&&s.writeProperty("colspan",i.getColspan()),this.getTotalWidth()>0&&i.getWidth()>0){var u=i.getWidth()/this.getTotalWidth()*100;s.writeProperty("width",u.toFixed(1)+"%")}new _(s).setText(i.getName())}}e.output(t)}},e}(l);var W=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const J=function(t){function e(e){return t.call(this,e)||this}return W(e,t),e.prototype.output=function(t){var e=this,o=!1,r=new S;r.setId("tr"+this.getCurrent().getDataSet().getRecNo()),this.forEach((function(t){if(t.getVisible()){var n=e.getCurrent().getText(t.getCode()),i=new j(r);t.getColspan()&&i.writeProperty("colspan",t.getColspan()),t.getAlign()&&i.writeProperty("align",t.getAlign()),new _(i).setText(n),n&&(o=!0)}})),o&&r.output(t)},e.prototype.getColumnCount=function(){for(var t=0,e=0,o=this.getComponents();e<o.length;e++){o[e]instanceof G&&(t+=1)}return t},e}(B);var q=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const K=function(t){function e(e){var o=t.call(this,e)||this;return o.setTitleVisiable(!1),o}return q(e,t),e.prototype.output=function(t){for(var e=this,o=0,r=0,n=this.getOwner().getComponents();r<n.length&&n[r]!=this;r++)o+=1;var i="";if(this.forEach((function(t){if(t.getVisible()){var o=e.getCurrent().getText(t.getCode());o&&(i=i+t.getName()+": "+o+" ")}})),i.length>0){var s=new S;s.setId("tr"+this.getCurrent().getDataSet().getRecNo()+"_"+o),s.setCssStyle("display:none");var u=new j(s);this.master&&u.writeProperty("colspan",""+this.master.getColumnCount()),new _(u).setText(i),s.output(t)}},e.prototype.getMaster=function(){return this.master},e.prototype.setMaster=function(t){return this.master=t,this},e}(B);var U=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const Q=function(t){function e(e){var o=t.call(this,e)||this;return o.groups=[],o.setBorder("1"),o}return U(e,t),e.prototype.getDataSet=function(){return this.dataSet},e.prototype.setDataSet=function(t){return this.dataSet=t,this},e.prototype.output=function(t){if(0!=this.groups.length&&0!=this.groups[0].getComponentCount()){this.beginOutput(t);var e=null;if(this.groups.forEach((function(o){o instanceof J&&(e=o).outputOfGridTitle(t)})),this.groups.forEach((function(o){if(o instanceof K){var r=o;r.setMaster(e),r.outputOfGridTitle(t)}})),this.dataSet){this.dataSet.first();for(var o=function(){var e=r.dataSet.getCurrent();r.groups.forEach((function(o){o.setCurrent(e),o.output(t)}))},r=this;this.dataSet.fetch();)o()}this.endOutput(t)}},e.prototype.addColumns=function(t){for(var e=0,o=t.getItems();e<o.length;e++){var r=o[e];this.getColumn(r.getCode())||new G(this,r.getCode(),r.getName()?r.getName():r.getCode())}},e.prototype.addComponent=function(e){return e instanceof B?(t.prototype.addComponent.call(this,e),this.groups.push(e)):this.getGroup(0).addComponent(e),this},e.prototype.getGroup=function(t){if(t>this.groups.length-1)for(var e=t-this.groups.length+1,o=0;o<e;o++)new J(this);return this.groups[t]},e.prototype.getColumn=function(t){for(var e=0;e<this.groups.length;e++){var o=this.getGroup(e).getColumn(t);if(o)return o}return null},e.prototype.clear=function(){for(var t=0,e=this.getComponents();t<e.length;t++)e[t].setOwner(null);this.groups=[],this.dataSet=null},e.prototype.exportFile=function(t){for(var e=this,o="",r=0,n=this.groups;r<n.length;r++)n[r].getComponents().forEach((function(t){var e=t;e.getExport()&&(o+=e.getName()+",")}));for(o+="\n",this.dataSet.first();this.dataSet.fetch();){for(var i=0,s=this.groups;i<s.length;i++)s[i].getComponents().forEach((function(t){var r=t;if(r.getExport()){var n=e.dataSet.getText(r.getCode());o+=n.replace(/,/g,"，")+","}}));o+="\n"}var u=new Blob([o],{type:"text/plain;charset=utf-8"});u=new Blob([String.fromCharCode(65279),u],{type:u.type});var p=window.URL.createObjectURL(u),c=document.createElement("a");c.href=p,c.download=t,document.body.appendChild(c),c.click(),document.body.removeChild(c)},e}(C);var X=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const Y=function(t){function e(e){var o=t.call(this,e)||this;return o.pageSize=100,o.recordCount=0,o.pageNo=1,o}return X(e,t),e.prototype.getRecordCount=function(){return this.recordCount},e.prototype.setPageSize=function(t){return this.pageSize=t,this},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.setPageNo=function(t){return t<1?this.pageNo=1:t<this.getCount()?this.pageNo=t:this.pageNo=this.getCount(),this},e.prototype.getPageNo=function(){return this.pageNo},e.prototype.setDataSet=function(t){return this.dataSet=t,t&&(this.recordCount=t.getRecords().length),this},e.prototype.getDataSet=function(){return this.dataSet},e.prototype.getBegin=function(){return(this.pageNo-1)*this.pageSize+1},e.prototype.getEnd=function(){var t=this.pageNo*this.pageSize;return t<this.recordCount?t:this.recordCount},e.prototype.getCount=function(){var t=this.recordCount%this.pageSize;return(this.recordCount-t)/this.pageSize+(t>0?1:0)},e.prototype.forEach=function(t){if(null==this.dataSet)throw new Error("this.dataSet is null");for(var e=this.getBegin();e<=this.getEnd();e++)this.dataSet.setRecNo(e+1),t(this.dataSet.getCurrent())},e}(l);var Z=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const $=function(t){function e(){var e=t.call(this,null)||this;return e.setContainer("app"),e}return Z(e,t),e.prototype.setTitle=function(t){return document.title=t,this},e.prototype.getTitle=function(){return document.title},e}(l);var tt=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const et=function(t){function e(e){return t.call(this,e)||this}return tt(e,t),e}(l);var ot=function(){var t=function(e,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},t(e,o)};return function(e,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();const rt=function(t){function e(e){var o=t.call(this,e)||this;return o.setRootLabel("div"),o.label=new b(o),o.label.setText("label:"),o.input=new L(o),o}return ot(e,t),e.prototype.getLabel=function(){return this.label.getText()},e.prototype.setLabel=function(t){return this.label.setText(t),this},e.prototype.getDefaultValue=function(){return this.input.getValue()},e.prototype.setDefaultValue=function(t){return this.input.setValue(t),this},e.prototype.getValue=function(){if(!this.getId())throw new Error("this is is null");var t=document.getElementById(this.getId());if(!t)throw new Error("not find elementById: "+this.getId());return t.children[1].value},e}(l);window.sci=e})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d2VDQXRDLFlBRUksV0FBWXhLLEcsT0FDUixZQUFNQSxJQUFNLEtBR3BCLE9BTm9DLFFBTXBDLEVBTkEsQ0FBb0MsRyx3ZUNHcEMsWUFLSSxXQUFZQSxHQUFaLE1BQ0ksWUFBTUEsSUFBTSxLLE9BQ1osRUFBSzRDLGFBQWEsT0FFbEIsRUFBSzhILE1BQVEsSUFBSSxFQUFNLEdBQ3ZCLEVBQUtBLE1BQU1yTyxRQUFRLFVBQ25CLEVBQUtzTyxNQUFRLElBQUksRUFBTyxHLEVBOEJoQyxPQXpDdUMsUUFjbkMsWUFBQUMsU0FBQSxXQUNJLE9BQU9oUyxLQUFLOFIsTUFBTXZPLFdBRXRCLFlBQUEwTyxTQUFBLFNBQVNILEdBRUwsT0FEQTlSLEtBQUs4UixNQUFNck8sUUFBUXFPLEdBQ1o5UixNQUdYLFlBQUFrUyxnQkFBQSxXQUNJLE9BQU9sUyxLQUFLK1IsTUFBTTlPLFlBRXRCLFlBQUFrUCxnQkFBQSxTQUFnQnJTLEdBRVosT0FEQUUsS0FBSytSLE1BQU10UCxTQUFTM0MsR0FDYkUsTUFHWCxZQUFBaUQsU0FBQSxXQUNJLElBQUtqRCxLQUFLMkssUUFDTixNQUFNLElBQUloSSxNQUFNLG1CQUNwQixJQUFJOEksRUFBS0YsU0FBU0csZUFBZTFMLEtBQUsySyxTQUN0QyxJQUFLYyxFQUNELE1BQU0sSUFBSTlJLE1BQU0seUJBQXlCM0MsS0FBSzJLLFNBR2xELE9BRFljLEVBQUcyRyxTQUFTLEdBQ1h0UyxPQUdyQixFQXpDQSxDQUF1QyxHQ0h2Q3NRLE9BQU9pQyxJQUFNLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdW1tZXItY2kvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9zdW1tZXItY2kvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zdW1tZXItY2kvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9zdW1tZXItY2kvLi9zcmMvZGIvSGFuZGxlLnRzIiwid2VicGFjazovL3N1bW1lci1jaS8uL3NyYy9kYi9GaWVsZE1ldGEudHMiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpLy4vc3JjL2RiL0ZpZWxkRGVmcy50cyIsIndlYnBhY2s6Ly9zdW1tZXItY2kvLi9zcmMvZGIvRGF0YVJvdy50cyIsIndlYnBhY2s6Ly9zdW1tZXItY2kvLi9zcmMvZGIvUmVjb3JkU3RhdGUudHMiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpLy4vc3JjL2RiL1NlYXJjaERhdGFTZXQudHMiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpLy4vc3JjL2RiL0RhdGFTZXQudHMiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpLy4vc3JjL2RiL1JlbW90ZVNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpLy4vc3JjL2RiL1NlcnZpY2VRdWVyeS50cyIsIndlYnBhY2s6Ly9zdW1tZXItY2kvLi9zcmMvdWkvSHRtbFdyaXRlci50cyIsIndlYnBhY2s6Ly9zdW1tZXItY2kvLi9zcmMvdWkvVENvbXBvbmVudC50cyIsIndlYnBhY2s6Ly9zdW1tZXItY2kvLi9zcmMvdWkvVEJ1dHRvbi50cyIsIndlYnBhY2s6Ly9zdW1tZXItY2kvLi9zcmMvdWkvVERpdi50cyIsIndlYnBhY2s6Ly9zdW1tZXItY2kvLi9zcmMvdWkvVFRleHQudHMiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpLy4vc3JjL3VpL1RTcGFuLnRzIiwid2VicGFjazovL3N1bW1lci1jaS8uL3NyYy91aS9UVGFibGUudHMiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpLy4vc3JjL3VpL1RUci50cyIsIndlYnBhY2s6Ly9zdW1tZXItY2kvLi9zcmMvdWkvVFRoLnRzIiwid2VicGFjazovL3N1bW1lci1jaS8uL3NyYy91aS9UVGQudHMiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpLy4vc3JjL3VpL1RGb3JtLnRzIiwid2VicGFjazovL3N1bW1lci1jaS8uL3NyYy91aS9UTGluZS50cyIsIndlYnBhY2s6Ly9zdW1tZXItY2kvLi9zcmMvdWkvVEEudHMiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpLy4vc3JjL3VpL1RJbnB1dC50cyIsIndlYnBhY2s6Ly9zdW1tZXItY2kvLi9zcmMvZXh0L1RQYWdlLnRzIiwid2VicGFjazovL3N1bW1lci1jaS8uL3NyYy9leHQvVEdyaWRDb2x1bW4udHMiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpLy4vc3JjL2V4dC9UR3JpZEdyb3VwLnRzIiwid2VicGFjazovL3N1bW1lci1jaS8uL3NyYy9leHQvVEdyaWRHcm91cE1hc3Rlci50cyIsIndlYnBhY2s6Ly9zdW1tZXItY2kvLi9zcmMvZXh0L1RHcmlkR3JvdXBDaGlsZC50cyIsIndlYnBhY2s6Ly9zdW1tZXItY2kvLi9zcmMvZXh0L1RHcmlkLnRzIiwid2VicGFjazovL3N1bW1lci1jaS8uL3NyYy9leHQvVE11dGlQYWdlLnRzIiwid2VicGFjazovL3N1bW1lci1jaS8uL3NyYy9leHQvVFdpbkZvcm0udHMiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpLy4vc3JjL2V4dC9UUGFuZWwudHMiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpLy4vc3JjL2V4dC9URWRpdFRleHQudHMiLCJ3ZWJwYWNrOi8vc3VtbWVyLWNpLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFuZGxlIHtcclxuICAgIHNlc3Npb25JZDogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNlc3Npb25JZDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uSWQgPSBzZXNzaW9uSWQ7XHJcbiAgICB9XHJcbn0iLCIvKipcclxuICogXHJcbiAqL1xyXG5cclxuaW1wb3J0IERhdGFSb3cgZnJvbSBcIi4vRGF0YVJvd1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmllbGRNZXRhIHtcclxuICAgIGNvZGU6IHN0cmluZyA9IG51bGw7XHJcbiAgICBuYW1lOiBzdHJpbmcgPSBudWxsO1xyXG4gICAgcmVtYXJrOiBzdHJpbmcgPSBudWxsO1xyXG4gICAgdHlwZTogc3RyaW5nID0gbnVsbDtcclxuICAgIGtpbmQ6IHN0cmluZyA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9vbkdldFRleHQ6IChyb3c6IERhdGFSb3csIG1ldGE6IEZpZWxkTWV0YSkgPT4gc3RyaW5nO1xyXG4gICAgT25TZXRUZXh0OiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29kZTogc3RyaW5nLCBraW5kOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xyXG4gICAgICAgIHRoaXMua2luZCA9IGtpbmQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29kZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5hbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXROYW1lKG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVtYXJrKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbWFyaztcclxuICAgIH1cclxuXHJcbiAgICBzZXRSZW1hcmsocmVtYXJrOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnJlbWFyayA9IHJlbWFyaztcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50eXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFR5cGUodHlwZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRLaW5kKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmtpbmQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0S2luZChraW5kOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmtpbmQgPSBraW5kO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgb25HZXRUZXh0KGZuOiAocm93OiBEYXRhUm93LCBtZXRhOiBGaWVsZE1ldGEpID0+IHN0cmluZykgeyB0aGlzLl9vbkdldFRleHQgPSBmbiB9XHJcbiAgICBnZXQgb25HZXRUZXh0KCk6IChyb3c6IERhdGFSb3csIG1ldGE6IEZpZWxkTWV0YSkgPT4gc3RyaW5nIHsgcmV0dXJuIHRoaXMuX29uR2V0VGV4dCB9XHJcbn0iLCJpbXBvcnQgRmllbGRNZXRhIGZyb20gXCIuL0ZpZWxkTWV0YVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmllbGREZWZzIHtcclxuICAgIGZpZWxkczogRmllbGRNZXRhW10gPSBbXTtcclxuXHJcbiAgICBhZGQoY29kZTogc3RyaW5nLCBuYW1lOiBzdHJpbmcgPSBudWxsKTogRmllbGRNZXRhIHtcclxuICAgICAgICBpZiAodGhpcy5leGlzdHMoY29kZSkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldChjb2RlKTtcclxuICAgICAgICBsZXQgaXRlbSA9IG5ldyBGaWVsZE1ldGEoY29kZSwgbmFtZSk7XHJcbiAgICAgICAgdGhpcy5maWVsZHMucHVzaChpdGVtKTtcclxuICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBleGlzdHMoY29kZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpZWxkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbWV0YSA9IHRoaXMuZmllbGRzW2ldO1xyXG4gICAgICAgICAgICBpZiAobWV0YS5nZXRDb2RlKCkgPT0gY29kZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldChjb2RlOiBzdHJpbmcpOiBGaWVsZE1ldGEge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZmllbGRzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uZ2V0Q29kZSgpID09IGNvZGUpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGl0ZW07XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2l6ZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkcy5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5maWVsZHMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBmb3JFYWNoKGZuOiAoKG1ldGE6IEZpZWxkTWV0YSkgPT4gdm9pZCkpIHtcclxuICAgICAgICBmb3IgKGxldCBtZXRhIG9mIHRoaXMuZmllbGRzKVxyXG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMsIG1ldGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEl0ZW1zKCk6IEZpZWxkTWV0YVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maWVsZHM7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyBsZXQgZGVmcyA9IG5ldyBGaWVsZERlZnMoKTtcclxuLy8gZGVmcy5hZGQoJ2NvZGUnKTtcclxuLy8gZGVmcy5hZGQoJ25hbWUnKS5zZXROYW1lKCflkI3np7AnKTtcclxuLy8gZGVmcy5hZGQoJ2NvZGUnKTtcclxuLy8gZGVmcy5nZXQoJ2NvZGUnKS5zZXROYW1lKCfku6PnoIEnKS5zZXRUeXBlKCdzMCcpO1xyXG4vLyBkZWZzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuLy8gICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xyXG4vLyB9KVxyXG4iLCJpbXBvcnQgeyBhc3NlcnRFcXVhbHMgfSBmcm9tIFwiLi4vSlVuaXRcIjtcclxuaW1wb3J0IERhdGFTZXQgZnJvbSBcIi4vRGF0YVNldFwiO1xyXG5pbXBvcnQgRmllbGREZWZzIGZyb20gXCIuL0ZpZWxkRGVmc1wiO1xyXG5pbXBvcnQgRmllbGRNZXRhIGZyb20gXCIuL0ZpZWxkTWV0YVwiO1xyXG5pbXBvcnQgKiBhcyBSZWNvcmRTdGF0ZSBmcm9tIFwiLi9SZWNvcmRTdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0YVJvdyB7XHJcbiAgICBwcml2YXRlIGRhdGFTZXQ6IERhdGFTZXQ7XHJcbiAgICBwcml2YXRlIGZpZWxkRGVmczogRmllbGREZWZzO1xyXG4gICAgcHJpdmF0ZSBzdGF0ZTogbnVtYmVyID0gUmVjb3JkU3RhdGUuZHNOb25lO1xyXG4gICAgcHJpdmF0ZSBpdGVtczogTWFwPHN0cmluZywgYW55PiA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XHJcbiAgICBwcml2YXRlIGRlbHRhOiBNYXA8c3RyaW5nLCBhbnk+ID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhU2V0OiBEYXRhU2V0ID0gbnVsbCkge1xyXG4gICAgICAgIGlmIChkYXRhU2V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YVNldCA9IGRhdGFTZXQ7XHJcbiAgICAgICAgICAgIHRoaXMuZmllbGREZWZzID0gZGF0YVNldC5nZXRGaWVsZERlZnMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmZpZWxkRGVmcyA9IG5ldyBGaWVsZERlZnMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3RhdGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRTdGF0ZShyZWNvcmRTdGF0ZTogbnVtYmVyKTogRGF0YVJvdyB7XHJcbiAgICAgICAgaWYgKHJlY29yZFN0YXRlID09IFJlY29yZFN0YXRlLmRzRWRpdCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBSZWNvcmRTdGF0ZS5kc0luc2VydCkge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKFwi5b2T5YmN6K6w5b2V5Li65o+S5YWl54q25oCBIOS4jeWFgeiuuOiiq+S/ruaUuVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZWNvcmRTdGF0ZSA9PSBSZWNvcmRTdGF0ZS5kc05vbmUpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWx0YS5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXRlID0gcmVjb3JkU3RhdGU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pdGVtcy5jbGVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFZhbHVlKGZpZWxkOiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBEYXRhUm93IHtcclxuICAgICAgICBpZiAoIWZpZWxkKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpZWxkIGlzIG51bGwhJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkRmllbGREZWYoZmllbGQpO1xyXG5cclxuICAgICAgICB0aGlzLml0ZW1zLnNldChmaWVsZCwgdmFsdWUpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBjb3B5VmFsdWVzKHNvdXJjZTogRGF0YVJvdywgZGVmczogRmllbGREZWZzID0gbnVsbCkge1xyXG4gICAgICAgIGlmIChkZWZzID09IG51bGwpXHJcbiAgICAgICAgICAgIGRlZnMgPSBzb3VyY2UuZ2V0RmllbGREZWZzKCk7XHJcblxyXG4gICAgICAgIGRlZnMuZm9yRWFjaCgobWV0YTogRmllbGRNZXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUobWV0YS5nZXRDb2RlKCksIHNvdXJjZS5nZXRWYWx1ZShtZXRhLmdldENvZGUoKSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkRmllbGREZWYoZmllbGQ6IHN0cmluZykge1xyXG4gICAgICAgIGlmIChmaWVsZCA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaWVsZCBpcyBudWxsXCIpO1xyXG4gICAgICAgIGlmICghdGhpcy5maWVsZERlZnMuZXhpc3RzKGZpZWxkKSkge1xyXG4gICAgICAgICAgICB0aGlzLmZpZWxkRGVmcy5hZGQoZmllbGQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRWYWx1ZShmaWVsZDogc3RyaW5nKTogYW55IHtcclxuICAgICAgICBpZiAoIWZpZWxkKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpZWxkIGlzIG51bGwhJylcclxuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLml0ZW1zLmdldChmaWVsZCk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlID09IHVuZGVmaW5lZCA/IG51bGwgOiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdHJpbmcoZmllbGQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5nZXRWYWx1ZShmaWVsZCk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlID8gXCJcIiArIHZhbHVlIDogXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRCb29sZWFuKGZpZWxkOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZShmaWVsZCkgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RG91YmxlKGZpZWxkOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0U3RyaW5nKGZpZWxkKTtcclxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgPyBwYXJzZUZsb2F0KHZhbHVlKSA6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGV4dChmaWVsZDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IG1ldGEgPSB0aGlzLmdldEZpZWxkRGVmcygpLmFkZChmaWVsZCk7XHJcbiAgICAgICAgaWYgKG1ldGEub25HZXRUZXh0ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWV0YS5vbkdldFRleHQodGhpcywgbWV0YSk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0cmluZyhmaWVsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGV4dChmaWVsZDogc3RyaW5nLCB2YWx1ZTogb2JqZWN0KTogRGF0YVJvdyB7XHJcbiAgICAgICAgbGV0IG1ldGEgPSB0aGlzLmdldEZpZWxkRGVmcygpLmFkZChmaWVsZCk7XHJcbiAgICAgICAgaWYgKG1ldGEuT25TZXRUZXh0ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlKG1ldGEuZ2V0Q29kZSgpLCBtZXRhLk9uU2V0VGV4dCh0aGlzLCBtZXRhKSk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUoZmllbGQsIHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBzaXplKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuc2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZWx0YSgpOiBNYXA8c3RyaW5nLCBhbnk+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kZWx0YTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRKc29uKCk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IG9iajogYW55ID0ge31cclxuICAgICAgICBmb3IobGV0IG1ldGEgb2YgdGhpcy5maWVsZERlZnMuZ2V0SXRlbXMoKSl7XHJcbiAgICAgICAgICAgIGxldCBrZXkgPSBtZXRhLmdldENvZGUoKTtcclxuICAgICAgICAgICAgb2JqW2tleV0gPSB0aGlzLmdldFZhbHVlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEpzb24oanNvbk9iajogc3RyaW5nIHwgSlNPTikge1xyXG4gICAgICAgIGlmICghanNvbk9iaikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2pzb25UZXh0IGlzIG51bGwhJylcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGpzb246IGFueTtcclxuICAgICAgICBpZiAodHlwZW9mIGpzb25PYmogPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKGpzb25PYmopXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAganNvbiA9IGpzb25PYmo7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGsgaW4ganNvbikge1xyXG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlKGssIGpzb25ba10pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldEZpZWxkRGVmcygpOiBGaWVsZERlZnMge1xyXG4gICAgICAgIGlmICh0aGlzLmRhdGFTZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVNldC5nZXRGaWVsZERlZnMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZmllbGREZWZzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5maWVsZERlZnMgPSBuZXcgRmllbGREZWZzKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpZWxkRGVmcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SXRlbXMoKTogTWFwPHN0cmluZywgb2JqZWN0PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yRWFjaChmbjogKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB2b2lkKSB7XHJcbiAgICAgICAgZm9yKGxldCBtZXRhIG9mIHRoaXMuZmllbGREZWZzLmdldEl0ZW1zKCkpe1xyXG4gICAgICAgICAgICBsZXQga2V5ID0gbWV0YS5nZXRDb2RlKCk7XHJcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywga2V5LCB0aGlzLmdldFZhbHVlKGtleSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhU2V0KCk6IERhdGFTZXR7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVNldDtcclxuICAgIH1cclxufVxyXG5cclxuLy8gbGV0IHJvdzEgPSBuZXcgRGF0YVJvdygpO1xyXG4vLyByb3cxLnNldFZhbHVlKCdjb2RlJywgJ2EnKTtcclxuLy8gcm93MS5zZXRWYWx1ZSgnbmFtZScsICdqYXNvbicpO1xyXG4vLyByb3cxLnNldFZhbHVlKFwiZmxhZ1wiLCBmYWxzZSk7XHJcblxyXG4vLyBhc3NlcnRFcXVhbHMoMSwgcm93MS5nZXRKc29uKCksICd7XCJjb2RlXCI6XCJhXCIsXCJuYW1lXCI6XCJqYXNvblwiLFwiZmxhZ1wiOmZhbHNlfScpO1xyXG4vLyBhc3NlcnRFcXVhbHMoMiwgcm93MS5nZXRWYWx1ZSgndmFsdWUnKSwgbnVsbCk7XHJcbi8vIGFzc2VydEVxdWFscygzLCBmYWxzZSwgcm93MS5nZXRCb29sZWFuKCdmbGFnJykpO1xyXG5cclxuLy8gbGV0IHJvdzIgPSBuZXcgRGF0YVJvdygpO1xyXG4vLyByb3cyLmNvcHlWYWx1ZXMocm93MSk7XHJcbi8vIGFzc2VydEVxdWFscyg0LCByb3cxLmdldEpzb24oKSwgcm93Mi5nZXRKc29uKCkpO1xyXG4iLCJleHBvcnQgY29uc3QgZHNOb25lID0gMDtcclxuZXhwb3J0IGNvbnN0IGRzSW5zZXJ0ID0gMTtcclxuZXhwb3J0IGNvbnN0IGRzRWRpdCA9IDI7XHJcbmV4cG9ydCBjb25zdCBkc0RlbGV0ZSA9IDM7XHJcbiIsImltcG9ydCBEYXRhUm93IGZyb20gXCIuL0RhdGFSb3dcIlxyXG5pbXBvcnQgRGF0YVNldCBmcm9tIFwiLi9EYXRhU2V0XCJcclxuXHJcbi8qKlxyXG4gKiBcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlYXJjaERhdGFTZXQge1xyXG5cdGRhdGFTZXQ6IERhdGFTZXQ7XHJcblx0aXRlbXM6IE1hcDxzdHJpbmcsIERhdGFSb3c+ID0gbmV3IE1hcCgpXHJcblx0a2V5czogU2V0PHN0cmluZz4gPSBuZXcgU2V0KClcclxuXHRmaWVsZHM6IHN0cmluZztcclxuXHJcblx0Y29uc3RydWN0b3IoZGF0YVNldDogRGF0YVNldCkge1xyXG5cdFx0dGhpcy5kYXRhU2V0ID0gZGF0YVNldFxyXG5cdH1cclxuXHJcblx0Z2V0KGN1cnJlbnRGaWVsZHM6IHN0cmluZywgdmFsdWU6IG9iamVjdCB8IG9iamVjdFtdKTogRGF0YVJvdyB7XHJcblx0XHRpZiAoIWN1cnJlbnRGaWVsZHMpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdmaWVsZHMgY2FuXFwndCBiZSBudWxsJylcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgdmFsdWVzOiBvYmplY3RbXTtcclxuXHRcdGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKVxyXG5cdFx0XHR2YWx1ZXMgPSBbdmFsdWVdXHJcblx0XHRlbHNlXHJcblx0XHRcdHZhbHVlcyA9IHZhbHVlIGFzIG9iamVjdFtdO1xyXG5cclxuXHRcdGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKVxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2tleXMgY2FuXFwndCB2YWx1ZXMgbGVuZ3RoID0gMCAnKVxyXG5cclxuXHRcdGlmICh0aGlzLmZpZWxkcyAhPT0gY3VycmVudEZpZWxkcykge1xyXG5cdFx0XHR0aGlzLmNsZWFyKClcclxuXHRcdFx0dGhpcy5maWVsZHMgPSBjdXJyZW50RmllbGRzXHJcblx0XHRcdHRoaXMuZmllbGRzLnNwbGl0KCc7JykuZm9yRWFjaCgoa2V5KSA9PiB7XHJcblx0XHRcdFx0aWYgKHRoaXMuZGF0YVNldC5zaXplKCkgPiAwICYmIHRoaXMuZGF0YVNldC5nZXRGaWVsZERlZnMoKS5zaXplKCkgPiAwICYmIHRoaXMuZGF0YVNldC5leGlzdHMoXHJcblx0XHRcdFx0XHRrZXkpKSB7XHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYGZpZWxkICR7a2V5fSBub3QgZmluZCAhYCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMua2V5cy5hZGQoa2V5KVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQvLyDph43nva7ntKLlvJVcclxuXHRcdFx0aWYgKHRoaXMua2V5cy5zaXplID4gMCkge1xyXG5cdFx0XHRcdHRoaXMuZGF0YVNldC5maXJzdCgpXHJcblx0XHRcdFx0d2hpbGUgKHRoaXMuZGF0YVNldC5mZXRjaCgpKSB7XHJcblx0XHRcdFx0XHR0aGlzLmFwcGVuZCh0aGlzLmRhdGFTZXQuZ2V0Q3VycmVudCgpKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYgKHRoaXMua2V5cy5zaXplICE9PSB2YWx1ZXMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ1vlj4LmlbDlkI3np7Bd5LiOW+WAvF3kuKrmlbDkuI3ljLnphY0nKVxyXG5cclxuXHRcdHJldHVybiB0aGlzLml0ZW1zLmdldCh0aGlzLmJ1aWxkT2JqZWN0S2V5KHZhbHVlcykpXHJcblx0fVxyXG5cclxuXHRyZW1vdmUocmVjb3JkOiBEYXRhUm93KTogdm9pZCB7XHJcblx0XHR0aGlzLml0ZW1zLmRlbGV0ZSh0aGlzLmJ1aWxkUmVjb3JkS2V5KHJlY29yZCkpO1xyXG5cdH1cclxuXHJcblx0YXBwZW5kKHJlY29yZDogRGF0YVJvdyk6IHZvaWQge1xyXG5cdFx0dGhpcy5pdGVtcy5zZXQodGhpcy5idWlsZFJlY29yZEtleShyZWNvcmQpLCByZWNvcmQpXHJcblx0fVxyXG5cclxuXHRjbGVhcigpOiB2b2lkIHtcclxuXHRcdHRoaXMuZmllbGRzID0gbnVsbDtcclxuXHRcdHRoaXMua2V5cy5jbGVhcigpXHJcblx0XHR0aGlzLml0ZW1zLmNsZWFyKClcclxuXHR9XHJcblxyXG5cdGJ1aWxkUmVjb3JkS2V5KHJlY29yZDogRGF0YVJvdykge1xyXG5cdFx0bGV0IHJlc3VsdDogc3RyaW5nW10gPSBbXTtcclxuXHRcdHRoaXMua2V5cy5mb3JFYWNoKChrZXk6IHN0cmluZykgPT4gcmVzdWx0LnB1c2gocmVjb3JkLmdldFN0cmluZyhrZXkpIHx8ICdudWxsJykpO1xyXG5cdFx0cmV0dXJuIHJlc3VsdC5qb2luKCc7Jyk7XHJcblx0fVxyXG5cclxuXHRidWlsZE9iamVjdEtleSh2YWx1ZXM6IG9iamVjdFtdKSB7XHJcblx0XHRsZXQgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0dmFsdWVzLmZvckVhY2goKHZhbHVlKSA9PiByZXN1bHQucHVzaChcIlwiICsgdmFsdWUgfHwgJ251bGwnKSlcclxuXHRcdHJldHVybiByZXN1bHQuam9pbignOycpXHJcblx0fVxyXG59XHJcbiIsImltcG9ydCBEYXRhUm93IGZyb20gJy4vRGF0YVJvdyc7XHJcbmltcG9ydCBGaWVsZERlZnMgZnJvbSAnLi9GaWVsZERlZnMnO1xyXG5pbXBvcnQgRmllbGRNZXRhIGZyb20gJy4vRmllbGRNZXRhJztcclxuaW1wb3J0IFNlYXJjaERhdGFTZXQgZnJvbSAnLi9TZWFyY2hEYXRhU2V0JztcclxuaW1wb3J0ICogYXMgSlVuaXQgZnJvbSBcIi4uL0pVbml0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXRhU2V0IHtcclxuICAgIHJlY05vOiBudW1iZXIgPSAwO1xyXG4gICAgZmV0Y2hObzogbnVtYmVyID0gLTE7XHJcbiAgICBzdGF0ZTogbnVtYmVyID0gMDtcclxuICAgIG1lc3NhZ2U6IHN0cmluZyA9ICcnO1xyXG4gICAgZmllbGREZWZzOiBGaWVsZERlZnMgPSBuZXcgRmllbGREZWZzKCk7XHJcbiAgICBtZXRhSW5mbzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgbWV0YTogYW55O1xyXG4gICAgaGVhZDogRGF0YVJvdyA9IG5ldyBEYXRhUm93KCk7XHJcbiAgICByZWNvcmRzOiBEYXRhUm93W10gPSBbXTtcclxuICAgIHNlYXJjaDogU2VhcmNoRGF0YVNldDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihqc29uOiBzdHJpbmcgPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKGpzb24pIHRoaXMuc2V0SnNvbihqc29uKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDdXJyZW50KCk6IERhdGFSb3cge1xyXG4gICAgICAgIGlmICh0aGlzLmVvZigpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZW9mID09IHRydWUnKVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ib2YoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JvZiA9PSB0cnVlJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgaSA9IHRoaXMucmVjTm8gLSAxO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWNvcmRzW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhcHBlbmQoKTogRGF0YVNldCB7XHJcbiAgICAgICAgbGV0IHJlY29yZCA9IG5ldyBEYXRhUm93KHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVjb3Jkcy5wdXNoKHJlY29yZClcclxuICAgICAgICB0aGlzLnJlY05vID0gdGhpcy5yZWNvcmRzLmxlbmd0aDtcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZSgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcm93ID0gdGhpcy5nZXRDdXJyZW50KCk7XHJcbiAgICAgICAgaWYgKHJvdykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFJlY05vKHRoaXMuZ2V0UmVjTm8oKSAtIDEpO1xyXG4gICAgICAgICAgICB0aGlzLnJlY29yZHMuc3BsaWNlKHRoaXMuZ2V0UmVjTm8oKSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZpcnN0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0aGlzLnJlY29yZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlY05vID0gMVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjTm8gPSAwXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZmV0Y2hObyA9IC0xXHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjTm8gPiAwXHJcbiAgICB9XHJcblxyXG4gICAgbGFzdCgpOiBib29sZWFuIHtcclxuICAgICAgICB0aGlzLnJlY05vID0gdGhpcy5yZWNvcmRzLmxlbmd0aDtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWNObyA+IDBcclxuICAgIH1cclxuXHJcbiAgICBuZXh0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0aGlzLnJlY29yZHMubGVuZ3RoID4gMCAmJiB0aGlzLnJlY05vIDw9IHRoaXMucmVjb3Jkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNObysrXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGJvZigpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWNObyA9PT0gMFxyXG4gICAgfVxyXG5cclxuICAgIGVvZigpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWNvcmRzLmxlbmd0aCA9PT0gMCB8fCB0aGlzLnJlY05vID4gdGhpcy5yZWNvcmRzLmxlbmd0aFxyXG4gICAgfVxyXG5cclxuICAgIHNpemUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWNvcmRzLmxlbmd0aFxyXG4gICAgfVxyXG5cclxuICAgIGdldFJlY05vKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjTm9cclxuICAgIH1cclxuXHJcbiAgICBzZXRSZWNObyhyZWNObzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHJlY05vID4gdGhpcy5yZWNvcmRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlY05vICR7dGhpcy5yZWNOb30g5aSn5LqO5oC76ZW/5bqmICR7dGhpcy5yZWNvcmRzLmxlbmd0aH1gKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChyZWNObyA+IC0xKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNObyA9IHJlY05vO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmZXRjaCgpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2VcclxuICAgICAgICBpZiAodGhpcy5mZXRjaE5vIDwgKHRoaXMucmVjb3Jkcy5sZW5ndGggLSAxKSkge1xyXG4gICAgICAgICAgICB0aGlzLmZldGNoTm8rK1xyXG4gICAgICAgICAgICB0aGlzLnNldFJlY05vKHRoaXMuZmV0Y2hObyArIDEpXHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfVxyXG5cclxuICAgIGNvcHlSZWNvcmQoc291cmNlOiBEYXRhUm93LCBkZWZzOiBGaWVsZERlZnMpIHtcclxuICAgICAgICBsZXQgcmVjb3JkID0gdGhpcy5nZXRDdXJyZW50KClcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoLnJlbW92ZShyZWNvcmQpXHJcbiAgICAgICAgICAgIHJlY29yZC5jb3B5VmFsdWVzKHNvdXJjZSwgZGVmcylcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2guYXBwZW5kKHJlY29yZClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZWNvcmQuY29weVZhbHVlcyhzb3VyY2UsIGRlZnMpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4aXN0cyhmaWVsZDogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmllbGREZWZzLmV4aXN0cyhmaWVsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGVhZCgpOiBEYXRhUm93IHtcclxuICAgICAgICBpZiAodGhpcy5oZWFkID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5oZWFkID0gbmV3IERhdGFSb3coKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVhZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZWNvcmRzKCk6IERhdGFSb3dbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjb3JkcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRGaWVsZERlZnMoKTogRmllbGREZWZzIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maWVsZERlZnM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VmFsdWUoZmllbGQ6IHN0cmluZywgdmFsdWU6IGFueSk6IERhdGFTZXQge1xyXG4gICAgICAgIHRoaXMuZ2V0Q3VycmVudCgpLnNldFZhbHVlKGZpZWxkLCB2YWx1ZSlcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRWYWx1ZShmaWVsZDogc3RyaW5nKTogb2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50KCkuZ2V0VmFsdWUoZmllbGQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN0cmluZyhmaWVsZDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50KCkuZ2V0U3RyaW5nKGZpZWxkKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREb3VibGUoZmllbGQ6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudCgpLmdldERvdWJsZShmaWVsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGV4dChmaWVsZDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50KCkuZ2V0VGV4dChmaWVsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5nZXRIZWFkKCkuZ2V0RmllbGREZWZzKCkuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLmdldEZpZWxkRGVmcygpLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaGVhZC5jbG9zZSgpO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlY29yZHMgPSBbXTtcclxuICAgICAgICB0aGlzLnJlY05vID0gMDtcclxuICAgICAgICB0aGlzLmZldGNoTm8gPSAtMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDnlKjkuo7mn6Xmib7lpJrmrKHvvIzosIPnlKjml7bvvIzkvJrlhYjov5vooYzmjpLluo/vvIzku6Xmlrnkvr/lkI7nu63nmoTnm7jlkIxLZXnmn6Xmib5cclxuICAgIGxvY2F0ZShmaWVsZHM6IHN0cmluZywgdmFsdWU6IG9iamVjdCB8IG9iamVjdFtdKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNlYXJjaCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlYXJjaCA9IG5ldyBTZWFyY2hEYXRhU2V0KHRoaXMpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcmVjb3JkID0gdGhpcy5zZWFyY2guZ2V0KGZpZWxkcywgdmFsdWUpXHJcbiAgICAgICAgaWYgKHJlY29yZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFJlY05vKEFycmF5LmZyb20odGhpcy5yZWNvcmRzKS5pbmRleE9mKHJlY29yZCkgKyAxKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldEpzb24oKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQganNvbjogYW55ID0ge31cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gMCkge1xyXG4gICAgICAgICAgICBqc29uLnN0YXRlID0gdGhpcy5zdGF0ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5tZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGpzb24ubWVzc2FnZSA9IHRoaXMubWVzc2FnZVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5tZXRhSW5mbykge1xyXG4gICAgICAgICAgICBqc29uLm1ldGEgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldEhlYWQoKS5nZXRGaWVsZERlZnMoKS5zaXplKCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaGVhZDogYW55ID0gW107XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldEhlYWQoKS5nZXRGaWVsZERlZnMoKS5mb3JFYWNoKChtZXRhOiBGaWVsZE1ldGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbTogYW55ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGEuZ2V0UmVtYXJrKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVttZXRhLmdldENvZGUoKV0gPSBbbWV0YS5nZXRUeXBlKCksIG1ldGEuZ2V0TmFtZSgpLCBtZXRhLmdldFJlbWFyaygpXTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1ldGEuZ2V0TmFtZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1bbWV0YS5nZXRDb2RlKCldID0gW21ldGEuZ2V0VHlwZSgpLCBtZXRhLmdldE5hbWUoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVttZXRhLmdldENvZGUoKV0gPSBbbWV0YS5nZXRUeXBlKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBoZWFkLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAganNvbi5tZXRhLmhlYWQgPSBoZWFkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5yZWNvcmRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBib2R5OiBhbnkgPSBbXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0RmllbGREZWZzKCkuZm9yRWFjaCgobWV0YTogRmllbGRNZXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW06IGFueSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXRhLmdldFJlbWFyaygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1bbWV0YS5nZXRDb2RlKCldID0gW21ldGEuZ2V0VHlwZSgpLCBtZXRhLmdldE5hbWUoKSwgbWV0YS5nZXRSZW1hcmsoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtZXRhLmdldE5hbWUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtW21ldGEuZ2V0Q29kZSgpXSA9IFttZXRhLmdldFR5cGUoKSwgbWV0YS5nZXROYW1lKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1bbWV0YS5nZXRDb2RlKCldID0gW21ldGEuZ2V0VHlwZSgpXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYm9keS5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBqc29uLm1ldGEuYm9keSA9IGJvZHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaGVhZC5zaXplKCkgPiAwKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1ldGFJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICBqc29uLmhlYWQgPSBbXVxyXG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkLmdldEZpZWxkRGVmcygpLmZvckVhY2goKGZpZWxkOiBGaWVsZE1ldGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBqc29uLmhlYWQucHVzaCh0aGlzLmhlYWQuZ2V0VmFsdWUoZmllbGQuZ2V0Q29kZSgpKSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBqc29uLmhlYWQgPSB7fTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGVhZC5mb3JFYWNoKChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGpzb24uaGVhZFtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zaXplKCkgPiAwKSB7XHJcbiAgICAgICAgICAgIGpzb24uYm9keSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLm1ldGFJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbTogYW55ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBtZXRhIG9mIHRoaXMuZ2V0RmllbGREZWZzKCkuZ2V0SXRlbXMoKSlcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnB1c2gobWV0YS5nZXRDb2RlKCkpO1xyXG4gICAgICAgICAgICAgICAganNvbi5ib2R5LnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IHJvdyBvZiB0aGlzLnJlY29yZHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpdGVtOiBhbnkgPSBbXVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbWV0YSBvZiB0aGlzLmdldEZpZWxkRGVmcygpLmdldEl0ZW1zKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnB1c2gocm93LmdldFZhbHVlKG1ldGEuZ2V0Q29kZSgpKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGpzb24uYm9keS5wdXNoKGl0ZW0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGpzb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEpzb24oanNvbk9iajogYW55KTogRGF0YVNldCB7XHJcbiAgICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgIGlmICghanNvbk9iaikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWpzb25PYmopIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc29uIGlzIG51bGwhJylcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBqc29uT2JqID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBqc29uT2JqID0gSlNPTi5wYXJzZShqc29uT2JqKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoanNvbk9iai5oYXNPd25Qcm9wZXJ0eSgnc3RhdGUnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0ganNvbk9iai5zdGF0ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoanNvbk9iai5oYXNPd25Qcm9wZXJ0eSgnbWVzc2FnZScpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGpzb25PYmoubWVzc2FnZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGZpZWxkczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBpZiAoanNvbk9iai5oYXNPd25Qcm9wZXJ0eSgnbWV0YScpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TWV0YUluZm8odHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMubWV0YSA9IGpzb25PYmoubWV0YTtcclxuICAgICAgICAgICAgaWYgKHRoaXMubWV0YS5oZWFkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhlYWQgPSBuZXcgRGF0YVJvdygpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhLmhlYWQuZm9yRWFjaCgobWFwOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gbWFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZXMgPSBtYXBba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1ldGEgPSB0aGlzLmhlYWQuZ2V0RmllbGREZWZzKCkuYWRkKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGEuc2V0UmVtYXJrKHZhbHVlc1syXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGEuc2V0TmFtZSh2YWx1ZXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhLnNldFR5cGUodmFsdWVzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWFkLnNldFZhbHVlKGtleSwganNvbk9iai5oZWFkW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMubWV0YS5ib2R5KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGEuYm9keS5mb3JFYWNoKChtYXA6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBtYXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlcyA9IG1hcFtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWV0YSA9IHRoaXMuZ2V0RmllbGREZWZzKCkuYWRkKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGEuc2V0UmVtYXJrKHZhbHVlc1syXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGEuc2V0TmFtZSh2YWx1ZXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhLnNldFR5cGUodmFsdWVzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzW2ldID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldE1ldGFJbmZvKGZhbHNlKTtcclxuICAgICAgICAgICAgaWYgKGpzb25PYmouaGFzT3duUHJvcGVydHkoJ2hlYWQnKSlcclxuICAgICAgICAgICAgICAgIHRoaXMuaGVhZC5zZXRKc29uKGpzb25PYmouaGVhZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZGF0YSA9IGpzb25PYmouZGF0YXNldCB8fCBqc29uT2JqLmJvZHk7XHJcbiAgICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubWV0YSAmJiBpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRzID0gZGF0YVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gZGF0YVtpXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcm93ID0gdGhpcy5hcHBlbmQoKS5nZXRDdXJyZW50KClcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZpZWxkcy5sZW5ndGg7IGorKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm93LnNldFZhbHVlKGZpZWxkc1tqXSwgaXRlbVtqXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5maXJzdCgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN0YXRlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U3RhdGUoc3RhdGU6IG51bWJlcik6IERhdGFTZXQge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRNZXNzYWdlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZyk6IERhdGFTZXQge1xyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TWV0YUluZm8obWV0YUluZm86IGJvb2xlYW4pOiBEYXRhU2V0IHtcclxuICAgICAgICB0aGlzLm1ldGFJbmZvID0gbWV0YUluZm87XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TWV0YUluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0YUluZm87XHJcbiAgICB9XHJcblxyXG4gICAgYXBwZW5kRGF0YVNldChzb3VyY2U6IERhdGFTZXQpIHtcclxuICAgICAgICBzb3VyY2UuZ2V0SGVhZCgpLmdldEZpZWxkRGVmcygpLmZvckVhY2goKG1ldGE6IEZpZWxkTWV0YSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdldEhlYWQoKS5zZXRWYWx1ZShtZXRhLmdldENvZGUoKSwgc291cmNlLmdldEhlYWQoKS5nZXRWYWx1ZShtZXRhLmdldENvZGUoKSkpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBzb3VyY2UuZmlyc3QoKTtcclxuICAgICAgICB3aGlsZSAoc291cmNlLmZldGNoKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5hcHBlbmQoKTtcclxuICAgICAgICAgICAgc291cmNlLmdldEZpZWxkRGVmcygpLmZvckVhY2goKG1ldGE6IEZpZWxkTWV0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZShtZXRhLmdldENvZGUoKSwgc291cmNlLmdldFZhbHVlKG1ldGEuZ2V0Q29kZSgpKSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvckVhY2goZm46IChyb3c6IERhdGFSb3cpID0+IHZvaWQpIHtcclxuICAgICAgICBmb3IgKGxldCByb3cgb2YgdGhpcy5yZWNvcmRzKVxyXG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMsIHJvdyk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyBsZXQgZHMgPSBuZXcgRGF0YVNldCgpO1xyXG4vLyBkcy5nZXRIZWFkKCkuc2V0VmFsdWUoJ2lkJywgMTAwKTtcclxuLy8gZHMuYXBwZW5kKCk7XHJcbi8vIGRzLnNldFZhbHVlKCdjb2RlJywgJ2EnKTtcclxuLy8gZHMuc2V0VmFsdWUoJ25hbWUnLCAnamFzb24nKTtcclxuLy8gZHMuYXBwZW5kKCk7XHJcbi8vIGRzLnNldFZhbHVlKCdjb2RlJywgJ2InKTtcclxuLy8gZHMuc2V0VmFsdWUoJ25hbWUnLCAnYmFkZScpO1xyXG4vLyBkcy5nZXRGaWVsZERlZnMoKS5nZXQoXCJjb2RlXCIpLnNldE5hbWUoXCLku6PnoIFcIik7XHJcblxyXG4vLyBKVW5pdC5hc3NlcnRFcXVhbHMoMSwgZHMuZ2V0SnNvbigpLCAne1wiaGVhZFwiOntcImlkXCI6MTAwfSxcImJvZHlcIjpbW1wiY29kZVwiLFwibmFtZVwiXSxbXCJhXCIsXCJqYXNvblwiXSxbXCJiXCIsXCJiYWRlXCJdXX0nKTtcclxuLy8gSlVuaXQuYXNzZXJ0RXF1YWxzKDIsIGRzLnNldE1ldGFJbmZvKHRydWUpLmdldEpzb24oKSwgJ3tcIm1ldGFcIjp7XCJoZWFkXCI6W3tcImlkXCI6W251bGxdfV0sXCJib2R5XCI6W3tcImNvZGVcIjpbbnVsbCxcIuS7o+eggVwiXX0se1wibmFtZVwiOltudWxsXX1dfSxcImhlYWRcIjpbMTAwXSxcImJvZHlcIjpbW1wiYVwiLFwiamFzb25cIl0sW1wiYlwiLFwiYmFkZVwiXV19JylcclxuLy8gSlVuaXQuYXNzZXJ0RXF1YWxzKDMsIGRzLnNldE1ldGFJbmZvKGZhbHNlKS5nZXRKc29uKCksICd7XCJoZWFkXCI6e1wiaWRcIjoxMDB9LFwiYm9keVwiOltbXCJjb2RlXCIsXCJuYW1lXCJdLFtcImFcIixcImphc29uXCJdLFtcImJcIixcImJhZGVcIl1dfScpO1xyXG4vLyBKVW5pdC5hc3NlcnRFcXVhbHMoNCwgZHMuc2V0TWV0YUluZm8oZmFsc2UpLmdldEpzb24oKSwgJ3tcImhlYWRcIjp7XCJpZFwiOjEwMH0sXCJib2R5XCI6W1tcImNvZGVcIixcIm5hbWVcIl0sW1wiYVwiLFwiamFzb25cIl0sW1wiYlwiLFwiYmFkZVwiXV19Jyk7XHJcblxyXG4vLyBsZXQganNvbiA9ICd7XCJtZXRhXCI6e1wiaGVhZFwiOlt7XCJpZFwiOltcIm4xXCIsXCJJRFwiLFwiRGF0YUlEXCJdfV0sXCJib2R5XCI6W3tcImNvZGVcIjpbbnVsbF19LHtcIm5hbWVcIjpbXCJzMTBcIixcIuS7o+eggVwiXX1dfSxcImhlYWRcIjpbMTAwXSxcImJvZHlcIjpbW1wiYVwiLFwiamFzb25cIl0sW1wiYlwiLFwiYmFkZVwiXV19JztcclxuLy8gbGV0IGRzMiA9IG5ldyBEYXRhU2V0KCkuc2V0SnNvbihqc29uKTtcclxuLy8gSlVuaXQuYXNzZXJ0RXF1YWxzKDExLCBkczIuZ2V0SnNvbigpLCBqc29uKTtcclxuXHJcbi8vIGRzMi5zZXRNZXRhSW5mbyhmYWxzZSk7XHJcbi8vIGRzMi5sYXN0KCk7XHJcbi8vIGRzMi5kZWxldGUoKTtcclxuLy8gSlVuaXQuYXNzZXJ0RXF1YWxzKDEzLCBkczIuZ2V0SnNvbigpLCAne1wiaGVhZFwiOntcImlkXCI6MTAwfSxcImJvZHlcIjpbW1wiY29kZVwiLFwibmFtZVwiXSxbXCJhXCIsXCJqYXNvblwiXV19Jyk7XHJcbi8vIGRzMi5sYXN0KCk7XHJcbi8vIGRzMi5kZWxldGUoKTtcclxuLy8gSlVuaXQuYXNzZXJ0RXF1YWxzKDE0LCBkczIuZ2V0SnNvbigpLCAne1wiaGVhZFwiOntcImlkXCI6MTAwfX0nKTtcclxuIiwiaW1wb3J0IHsgVENvbXBvbmVudCB9IGZyb20gXCIuLi9TdW1tZXJDSVwiO1xyXG5pbXBvcnQgRGF0YVNldCBmcm9tIFwiLi9EYXRhU2V0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW1vdGVTZXJ2aWNlIHtcclxuICAgIG93bmVyOiBhbnkgPSBudWxsO1xyXG4gICAgc2lkOiBzdHJpbmcgPSBudWxsO1xyXG4gICAgaG9zdCA9ICcvc2VydmljZXMvJztcclxuICAgIHNlcnZpY2U6IHN0cmluZztcclxuICAgIHByaXZhdGUgX2RhdGFJbjogRGF0YVNldDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihvd25lcjogYW55KSB7XHJcbiAgICAgICAgdGhpcy5fZGF0YUluID0gbmV3IERhdGFTZXQoKTtcclxuICAgICAgICBpZiAob3duZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xyXG4gICAgICAgICAgICBpZiAob3duZXIuc2lkKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWQgPSBvd25lci5zaWQ7XHJcbiAgICAgICAgICAgIGlmIChvd25lci5ob3N0KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3N0ID0gb3duZXIuaG9zdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXhlYyhmdW5jOiAoZGF0YU91dDogRGF0YVNldCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy5zZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIGZ1bmMuY2FsbCh0aGlzLCBuZXcgRGF0YVNldCgpLnNldE1lc3NhZ2UoJ3NlcnZpY2UgaXMgbnVsbCcpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHVybCA9IHRoaXMuaG9zdCArIHRoaXMuc2VydmljZTtcclxuICAgICAgICBpZiAodGhpcy5zaWQpXHJcbiAgICAgICAgICAgIHVybCA9IGAke3VybH0/c2lkPSR7dGhpcy5zaWR9YDtcclxuXHJcbiAgICAgICAgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLCBib2R5OiBcImRhdGFJbj1cIiArIHRoaXMuZ2V0RGF0YUluKCkuZ2V0SnNvbigpLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLFxyXG4gICAgICAgICAgICAgICAgLy8gXCJDb250ZW50LVR5cGVcIjogXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgbGV0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIik7XHJcbiAgICAgICAgICAgIGlmIChcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOFwiID09IGNvbnRlbnRUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuYm9keSk7XHJcbiAgICAgICAgICAgICAgICBmdW5jLmNhbGwodGhpcywgbmV3IERhdGFTZXQoKS5zZXRNZXNzYWdlKCdub3Qgc3VwcG9ydDonICsgY29udGVudFR5cGUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGE6IHN0cmluZykge1xyXG4gICAgICAgICAgICBsZXQgZGF0YU91dCA9IG5ldyBEYXRhU2V0KEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgICAgICAgICAgZnVuYy5jYWxsKHRoaXMsIGRhdGFPdXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGFJbigpOiBEYXRhU2V0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YUluO1xyXG4gICAgfVxyXG4gICAgc2V0RGF0YUluKHZhbHVlOiBEYXRhU2V0KSB7XHJcbiAgICAgICAgdGhpcy5fZGF0YUluID0gdmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0SG9zdChob3N0OiBzdHJpbmcpOiBSZW1vdGVTZXJ2aWNlIHtcclxuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFNlcnZpY2Uoc2VydmljZTogc3RyaW5nKTogUmVtb3RlU2VydmljZSB7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlID0gc2VydmljZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufVxyXG5cclxuLy8gbGV0IHN2ciA9IG5ldyBSZW1vdGVTZXJ2aWNlKCk7XHJcbi8vIHN2ci5zZXRIb3N0KCdodHRwOi8vMTI3LjAuMC4xL3NlcnZpY2VzLycpO1xyXG4vLyBzdnIuc2V0U2VydmljZSgnU3ZyRXhhbXBsZS5zZWFyY2gnKTtcclxuLy8gc3ZyLmV4ZWMoKCkgPT4ge1xyXG4vLyAgICAgY29uc29sZS5sb2coc3ZyLmdldERhdGFTZXQoKS5nZXRKc29uKCkpO1xyXG4vLyAgICAgY29uc29sZS5sb2coc3ZyLmdldE1lc3NhZ2UoKSk7XHJcbi8vIH0pO1xyXG4iLCJpbXBvcnQgRGF0YVNldCBmcm9tIFwiLi9EYXRhU2V0XCI7XHJcbmltcG9ydCBSZW1vdGVTZXJ2aWNlIGZyb20gXCIuL1JlbW90ZVNlcnZpY2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZpY2VRdWVyeSBleHRlbmRzIFJlbW90ZVNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBzcWw6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3duZXI6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKG93bmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGQoc3FsOiBzdHJpbmcpOiBTZXJ2aWNlUXVlcnkge1xyXG4gICAgICAgIHRoaXMuc3FsID0gdGhpcy5zcWwudHJpbSgpICsgJyAnICsgc3FsLnRyaW0oKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRTcWxUZXh0KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3FsO1xyXG4gICAgfVxyXG4gICAgc2V0U3FsVGV4dChzcWw6IHN0cmluZyk6IFNlcnZpY2VRdWVyeSB7XHJcbiAgICAgICAgdGhpcy5zcWwgPSBzcWw7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbihmbjogKGRhdGFPdXQ6IERhdGFTZXQpID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLnNldFNlcnZpY2UodGhpcy5maW5kVGFibGVOYW1lKHRoaXMuc3FsKSk7XHJcbiAgICAgICAgbGV0IGhlYWRJbiA9IHRoaXMuZ2V0RGF0YUluKCkuZ2V0SGVhZCgpO1xyXG4gICAgICAgIGhlYWRJbi5zZXRWYWx1ZShcIl9zZXJ2aWNlX2ZpbHRlcl9cIiwgdGhpcy5zcWwpO1xyXG4gICAgICAgIHRoaXMuZXhlYyhmbik7XHJcbiAgICB9XHJcblxyXG4gICAgZmluZFRhYmxlTmFtZShzcWw6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHJlc3VsdDogc3RyaW5nID0gbnVsbDtcclxuICAgICAgICBsZXQgaXRlbXM6IHN0cmluZ1tdID0gc3FsLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoaXRlbXNbaV0udG9Mb3dlckNhc2UoKSA9PSBcImZyb21cIikge1xyXG4gICAgICAgICAgICAgICAgLy8g6Ziy5q2i5Y+W5Yiw56m65YC8XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaXRlbXNbaSArIDFdID09IG51bGwgfHwgXCJcIiA9PSBpdGVtc1tpICsgMV0udHJpbSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gaXRlbXNbKytpXTsgLy8g6I635Y+W5pWw5o2u5bqT6KGo5ZCNXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlc3VsdCA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzcWwgY29tbWFuZCBlcnJvclwiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEh0bWxXcml0ZXIge1xyXG4gICAgbGluZXM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgcHJpbnQodGV4dDogc3RyaW5nKTogSHRtbFdyaXRlciB7XHJcbiAgICAgICAgdGhpcy5saW5lcy5wdXNoKHRleHQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaW50bG4odGV4dDogc3RyaW5nKTogSHRtbFdyaXRlciB7XHJcbiAgICAgICAgdGhpcy5saW5lcy5wdXNoKHRleHQgKyBcIlxcblwiKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRUZXh0KCk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHRleHQgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMubGluZXMuZm9yRWFjaCgobGluZSkgPT4ge1xyXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dCArIGxpbmU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8vIGxldCBodG1sID0gbmV3IEh0bWxXcml0ZXIoKTtcclxuLy8gaHRtbC5wcmludCgnb25lJyk7XHJcbi8vIGh0bWwucHJpbnQoJ3R3bycpO1xyXG4vLyBjb25zb2xlLmxvZyhodG1sLmdldFRleHQoKSlcclxuIiwiaW1wb3J0IHsgYXNzZXJ0RXF1YWxzIH0gZnJvbSBcIi4uL0pVbml0XCI7XHJcbmltcG9ydCBIdG1sV3JpdGVyIGZyb20gXCIuL0h0bWxXcml0ZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRDb21wb25lbnQge1xyXG4gICAgcHJpdmF0ZSBvd25lcjogVENvbXBvbmVudDtcclxuICAgIHByaXZhdGUgb3JpZ2luOiBhbnk7XHJcbiAgICBwcml2YXRlIHJvb3RMYWJlbDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBjb250YWluZXI6IHN0cmluZztcclxuICAgIHByaXZhdGUgY29tcG9uZW50czogU2V0PFRDb21wb25lbnQ+ID0gbmV3IFNldDxUQ29tcG9uZW50PigpO1xyXG4gICAgcHJpdmF0ZSBwcm9wZXJ0eXM6IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpO1xyXG4gICAgcHJpdmF0ZSBldmVudHM6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG93bmVyOiBUQ29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xyXG4gICAgICAgIHRoaXMuc2V0T3duZXIob3duZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE93bmVyKCk6IFRDb21wb25lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm93bmVyO1xyXG4gICAgfVxyXG4gICAgc2V0T3duZXIob3duZXI6IFRDb21wb25lbnQpOiBUQ29tcG9uZW50IHtcclxuICAgICAgICBpZiAodGhpcy5vd25lcikge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnJlbW92ZUNvbXBvbmVudCh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG93bmVyKSB7XHJcbiAgICAgICAgICAgIG93bmVyLmFkZENvbXBvbmVudCh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENvbXBvbmVudChjb21wb25lbnQ6IFRDb21wb25lbnQpOiBUQ29tcG9uZW50IHtcclxuICAgICAgICBpZiAoY29tcG9uZW50ICE9IG51bGwgJiYgIXRoaXMuY29tcG9uZW50cy5oYXMoY29tcG9uZW50KSkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQub3duZXIgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50Lm9yaWdpbiA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50Lm9yaWdpbiA9IHRoaXMub3JpZ2luICE9IG51bGwgPyB0aGlzLm9yaWdpbiA6IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cy5hZGQoY29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlQ29tcG9uZW50KGNvbXBvbmVudDogVENvbXBvbmVudCk6IFRDb21wb25lbnQge1xyXG4gICAgICAgIGlmIChjb21wb25lbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50Lm9yaWdpbiA9PSBjb21wb25lbnQub3duZXIpXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQub3JpZ2luID0gbnVsbDtcclxuICAgICAgICAgICAgY29tcG9uZW50Lm93bmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLmRlbGV0ZShjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb21wb25lbnRzKCk6IFRDb21wb25lbnRbXSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5jb21wb25lbnRzLnZhbHVlcygpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb21wb25lbnRDb3VudCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudHMuc2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRSb290TGFiZWwodmFsdWU6IHN0cmluZyk6IFRDb21wb25lbnQge1xyXG4gICAgICAgIHRoaXMucm9vdExhYmVsID0gdmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um9vdExhYmVsKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdExhYmVsO1xyXG4gICAgfVxyXG5cclxuICAgIGJlZ2luT3V0cHV0KGh0bWw6IEh0bWxXcml0ZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5yb290TGFiZWwpIHtcclxuICAgICAgICAgICAgaHRtbC5wcmludChcIjxcIiArIHRoaXMucm9vdExhYmVsKTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eXMuZm9yRWFjaCgodiwgaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaHRtbC5wcmludCgnICcgKyBrICsgJz1cIicgKyB2ICsgJ1wiJylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGh0bWwucHJpbnQoXCI+XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvdXRwdXQoaHRtbDogSHRtbFdyaXRlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYmVnaW5PdXRwdXQoaHRtbCk7XHJcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB0aGlzLmdldENvbXBvbmVudHMoKSlcclxuICAgICAgICAgICAgaXRlbS5vdXRwdXQoaHRtbCk7XHJcbiAgICAgICAgdGhpcy5lbmRPdXRwdXQoaHRtbCk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5kT3V0cHV0KGh0bWw6IEh0bWxXcml0ZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5yb290TGFiZWwpIHtcclxuICAgICAgICAgICAgaHRtbC5wcmludChcIjwvXCIgKyB0aGlzLnJvb3RMYWJlbCArIFwiPlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgaHRtbCA9IG5ldyBIdG1sV3JpdGVyKCk7XHJcbiAgICAgICAgdGhpcy5vdXRwdXQoaHRtbCk7XHJcbiAgICAgICAgcmV0dXJuIGh0bWwuZ2V0VGV4dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlYWRQcm9wZXJ0eShrZXk6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydHlzLmdldChrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHdyaXRlUHJvcGVydHkoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiBUQ29tcG9uZW50IHtcclxuICAgICAgICB0aGlzLnByb3BlcnR5cy5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkUHJvcGVydHkoJ2lkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0SWQoaWQ6IHN0cmluZyk6IFRDb21wb25lbnQge1xyXG4gICAgICAgIHRoaXMud3JpdGVQcm9wZXJ0eSgnaWQnLCBpZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q3NzQ2xhc3MoY3NzQ2xhc3M6IHN0cmluZyk6IFRDb21wb25lbnQge1xyXG4gICAgICAgIHRoaXMud3JpdGVQcm9wZXJ0eShcImNsYXNzXCIsIGNzc0NsYXNzKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRDc3NDbGFzcygpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRQcm9wZXJ0eSgnY2xhc3MnKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRDc3NTdHlsZShzdHlsZTogc3RyaW5nKTogVENvbXBvbmVudCB7XHJcbiAgICAgICAgdGhpcy53cml0ZVByb3BlcnR5KCdzdHlsZScsIHN0eWxlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRDc3NTdHlsZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRQcm9wZXJ0eSgnc3R5bGUnKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoY29udGFpbmVyOiBzdHJpbmcgPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lciAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q29udGFpbmVyKGNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgaHRtbCA9IG5ldyBIdG1sV3JpdGVyKCk7XHJcbiAgICAgICAgdGhpcy5vdXRwdXQoaHRtbCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PSBcInVuZGVmaW5lZFwiIHx8IGRvY3VtZW50ID09IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coaHRtbC5nZXRUZXh0KCkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgY29udGVudElkID0gdGhpcy5jb250YWluZXIgPyB0aGlzLmNvbnRhaW5lciA6IHRoaXMuZ2V0SWQoKTtcclxuICAgICAgICBpZiAoIWNvbnRlbnRJZClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicmVuZGVyIGVycm9yOiBjb250YWluZXIgaXMgbnVsbFwiKVxyXG4gICAgICAgIGxldCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRlbnRJZCk7XHJcbiAgICAgICAgaWYgKCFlbClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBub3QgZmluZCBlbGVtZW50OiAke2NvbnRlbnRJZH1gKTtcclxuXHJcbiAgICAgICAgZWwuaW5uZXJIVE1MID0gaHRtbC5nZXRUZXh0KCk7XHJcblxyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudHModGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWdpc3RlckV2ZW50cyhyb290OiBUQ29tcG9uZW50KSB7XHJcbiAgICAgICAgaWYgKHJvb3QuZ2V0SWQoKSkge1xyXG4gICAgICAgICAgICByb290LmV2ZW50cy5mb3JFYWNoKChmbiwgZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJvb3QuZ2V0SWQoKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWwpXHJcbiAgICAgICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZm4pO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbm90IGZpbmQgZWxlbWVudDogJHtyb290LmdldElkKCl9YCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHJvb3QuZ2V0Q29tcG9uZW50cygpKVxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnRzKGNoaWxkKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRFdmVudExpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGZuOiBhbnkpIHtcclxuICAgICAgICBsZXQgaHRtbElkID0gdGhpcy5nZXRJZCgpO1xyXG4gICAgICAgIGlmIChodG1sSWQpXHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnNldChldmVudCwgZm4pO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aGlzIGlkIGlzIG51bGwnKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXROYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRQcm9wZXJ0eSgnbmFtZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE5hbWUodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMud3JpdGVQcm9wZXJ0eSgnbmFtZScsIHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb250YWluZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHNldENvbnRhaW5lcihjb250YWluZXI6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLy8gbGV0IGl0ZW0gPSBuZXcgVENvbXBvbmVudCgpO1xyXG4vLyBpdGVtLnNldFJvb3RMYWJlbCgnZGl2Jyk7XHJcbi8vIGl0ZW0uc2V0SWQoJ2FhYWEnKTtcclxuLy8gaXRlbS5yZW5kZXIoKTtcclxuXHJcblxyXG4vLyBsZXQgY2hpbGQgPSBuZXcgVENvbXBvbmVudCgpO1xyXG4vLyBjaGlsZC5zZXRSb290TGFiZWwoJ2NoaWxkJyk7XHJcbi8vIGNoaWxkLnNldE93bmVyKGl0ZW0pO1xyXG4vLyBpdGVtLnJlbmRlcigpO1xyXG5cclxuLy8gaXRlbS5zZXROYW1lKCdhYmNkJyk7XHJcbi8vIGFzc2VydEVxdWFscygnYWJjZCcsIGl0ZW0uZ2V0TmFtZSgpKTtcclxuIiwiaW1wb3J0IEh0bWxXcml0ZXIgZnJvbSBcIi4vSHRtbFdyaXRlclwiO1xyXG5pbXBvcnQgVENvbXBvbmVudCBmcm9tIFwiLi9UQ29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUQnV0dG9uIGV4dGVuZHMgVENvbXBvbmVudCB7XHJcbiAgICB0ZXh0OiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3duZXI6IFRDb21wb25lbnQpIHtcclxuICAgICAgICBzdXBlcihvd25lcik7XHJcbiAgICAgICAgdGhpcy5zZXRSb290TGFiZWwoJ2J1dHRvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRleHQodGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRUZXh0KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBvdXRwdXQoaHRtbDogSHRtbFdyaXRlcikge1xyXG4gICAgICAgIHRoaXMuYmVnaW5PdXRwdXQoaHRtbCk7XHJcbiAgICAgICAgaWYgKHRoaXMudGV4dCkge1xyXG4gICAgICAgICAgICBodG1sLnByaW50KHRoaXMudGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZW5kT3V0cHV0KGh0bWwpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFRDb21wb25lbnQgIGZyb20gXCIuL1RDb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFREaXYgZXh0ZW5kcyBUQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihvd25lcjogVENvbXBvbmVudCkge1xyXG4gICAgICAgIHN1cGVyKG93bmVyKTtcclxuICAgICAgICB0aGlzLnNldFJvb3RMYWJlbCgnZGl2Jyk7XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG4iLCJpbXBvcnQgSHRtbFdyaXRlciBmcm9tIFwiLi9IdG1sV3JpdGVyXCI7XHJcbmltcG9ydCBUQ29tcG9uZW50IGZyb20gXCIuL1RDb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRUZXh0IGV4dGVuZHMgVENvbXBvbmVudCB7XHJcbiAgICB0ZXh0OiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3duZXI6IFRDb21wb25lbnQpIHtcclxuICAgICAgICBzdXBlcihvd25lcik7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGV4dCh0ZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBvdXRwdXQoaHRtbDogSHRtbFdyaXRlcil7XHJcbiAgICAgICAgaHRtbC5wcmludCh0aGlzLnRleHQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFRDb21wb25lbnQgZnJvbSBcIi4vVENvbXBvbmVudFwiO1xyXG5pbXBvcnQgVFRleHQgZnJvbSBcIi4vVFRleHRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRTcGFuIGV4dGVuZHMgVENvbXBvbmVudCB7XHJcbiAgICBzcGFuOiBUVGV4dDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihvd25lcjogVENvbXBvbmVudCkge1xyXG4gICAgICAgIHN1cGVyKG93bmVyKTtcclxuICAgICAgICB0aGlzLnNldFJvb3RMYWJlbCgnc3BhbicpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRleHQodGV4dDogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNwYW4pIHtcclxuICAgICAgICAgICAgdGhpcy5zcGFuID0gbmV3IFRUZXh0KHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNwYW4uc2V0VGV4dCh0ZXh0KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRUZXh0KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BhbiA9PSBudWxsID8gbnVsbCA6IHRoaXMuc3Bhbi5nZXRUZXh0KCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFRDb21wb25lbnQgZnJvbSBcIi4vVENvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVFRhYmxlIGV4dGVuZHMgVENvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3duZXI6IFRDb21wb25lbnQpIHtcclxuICAgICAgICBzdXBlcihvd25lcik7XHJcbiAgICAgICAgdGhpcy5zZXRSb290TGFiZWwoJ3RhYmxlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Qm9yZGVyKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLndyaXRlUHJvcGVydHkoJ2JvcmRlcicsIHZhbHVlKVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEJvcmRlcigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRQcm9wZXJ0eSgnYm9yZGVyJyk7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBUQ29tcG9uZW50IGZyb20gJy4vVENvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUVHIgZXh0ZW5kcyBUQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihvd25lcjogVENvbXBvbmVudCA9IG51bGwpIHtcclxuICAgICAgICBzdXBlcihvd25lcik7XHJcbiAgICAgICAgdGhpcy5zZXRSb290TGFiZWwoXCJ0clwiKTtcclxuICAgIH1cclxuICAgIFxyXG59IiwiaW1wb3J0IFRDb21wb25lbnQgZnJvbSAnLi9UQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRUaCBleHRlbmRzIFRDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3Iob3duZXI6IFRDb21wb25lbnQpIHtcclxuICAgICAgICBzdXBlcihvd25lcik7XHJcbiAgICAgICAgdGhpcy5zZXRSb290TGFiZWwoXCJ0aFwiKTtcclxuICAgIH1cclxufSIsImltcG9ydCBUQ29tcG9uZW50IGZyb20gJy4vVENvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUVGQgZXh0ZW5kcyBUQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihvd25lcjpUQ29tcG9uZW50KSB7XHJcbiAgICAgICAgc3VwZXIob3duZXIpO1xyXG4gICAgICAgIHRoaXMuc2V0Um9vdExhYmVsKFwidGRcIik7XHJcbiAgICB9XHJcbiAgICBcclxufSIsImltcG9ydCBUQ29tcG9uZW50IGZyb20gXCIuL1RDb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRGb3JtIGV4dGVuZHMgVENvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3duZXI6IFRDb21wb25lbnQpIHtcclxuICAgICAgICBzdXBlcihvd25lcik7XHJcbiAgICAgICAgdGhpcy5zZXRSb290TGFiZWwoJ2Zvcm0nKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRNZXRob2QobWV0aG9kOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLndyaXRlUHJvcGVydHkoJ21ldGhvZCcsIG1ldGhvZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TWV0aG9kKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZFByb3BlcnR5KCdtZXRob2QnKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBY3Rpb24oYWN0aW9uOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLndyaXRlUHJvcGVydHkoJ2FjdGlvbicsIGFjdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWN0aW9uKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZFByb3BlcnR5KCdhY3Rpb24nKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgSHRtbFdyaXRlciBmcm9tIFwiLi9IdG1sV3JpdGVyXCI7XHJcbmltcG9ydCBUQ29tcG9uZW50IGZyb20gXCIuL1RDb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRMaW5lIGV4dGVuZHMgVENvbXBvbmVudCB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKG93bmVyOiBUQ29tcG9uZW50KSB7XHJcbiAgICAgICAgc3VwZXIob3duZXIpO1xyXG4gICAgICAgIHRoaXMuc2V0Um9vdExhYmVsKCdocicpO1xyXG4gICAgfVxyXG5cclxuICAgIG91dHB1dChodG1sOiBIdG1sV3JpdGVyKSB7XHJcbiAgICAgICAgaHRtbC5wcmludChcIjxoci8+XCIpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVENvbXBvbmVudCBmcm9tIFwiLi9UQ29tcG9uZW50XCI7XHJcbmltcG9ydCBUVGV4dCBmcm9tIFwiLi9UVGV4dFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVEEgZXh0ZW5kcyBUQ29tcG9uZW50IHtcclxuICAgIHByaXZhdGUgdGV4dDogVFRleHQ7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3duZXI6IFRDb21wb25lbnQpIHtcclxuICAgICAgICBzdXBlcihvd25lcik7XHJcbiAgICAgICAgdGhpcy5zZXRSb290TGFiZWwoJ2EnKTtcclxuICAgICAgICB0aGlzLnRleHQgPSBuZXcgVFRleHQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SHJlZigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRQcm9wZXJ0eSgnaHJlZicpO1xyXG4gICAgfVxyXG4gICAgc2V0SHJlZih2YWx1ZTogc3RyaW5nKTogVEEge1xyXG4gICAgICAgIHRoaXMud3JpdGVQcm9wZXJ0eSgnaHJlZicsIHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRUZXh0KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dC5nZXRUZXh0KCk7XHJcbiAgICB9XHJcbiAgICBzZXRUZXh0KHZhbHVlOiBzdHJpbmcpOiBUQSB7XHJcbiAgICAgICAgdGhpcy50ZXh0LnNldFRleHQodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBUQ29tcG9uZW50IGZyb20gXCIuL1RDb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRJbnB1dCBleHRlbmRzIFRDb21wb25lbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG93bmVyOiBUQ29tcG9uZW50KSB7XHJcbiAgICAgICAgc3VwZXIob3duZXIpO1xyXG4gICAgICAgIHRoaXMuc2V0Um9vdExhYmVsKCdpbnB1dCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE5hbWUobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy53cml0ZVByb3BlcnR5KCduYW1lJywgbmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkUHJvcGVydHkoJ25hbWUnKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRWYWx1ZSh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy53cml0ZVByb3BlcnR5KCd2YWx1ZScsIHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRWYWx1ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkUHJvcGVydHkoJ3ZhbHVlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SHRtbFZhbHVlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZ2V0SWQoKSkuaW5uZXJUZXh0O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFRDb21wb25lbnQgZnJvbSBcIi4uL3VpL1RDb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRQYWdlIGV4dGVuZHMgVENvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3duZXI6IFRDb21wb25lbnQpIHtcclxuICAgICAgICBzdXBlcihvd25lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcnVuKCkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVENvbXBvbmVudCBmcm9tIFwiLi4vdWkvVENvbXBvbmVudFwiO1xyXG5pbXBvcnQgVEdyaWQgZnJvbSBcIi4vVEdyaWRcIjtcclxuaW1wb3J0IFRHcmlkR3JvdXBDaGlsZCBmcm9tIFwiLi9UR3JpZEdyb3VwQ2hpbGRcIjtcclxuaW1wb3J0IFRHcmlkR3JvdXBNYXN0ZXIgZnJvbSBcIi4vVEdyaWRHcm91cE1hc3RlclwiO1xyXG5pbXBvcnQgVEdyaWRHcm91cCBmcm9tIFwiLi9UR3JpZEdyb3VwTWFzdGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUR3JpZENvbHVtbiBleHRlbmRzIFRDb21wb25lbnQge1xyXG4gICAgcHJpdmF0ZSBjb2RlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIG5hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgd2lkdGg6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIGFsaWduOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIF9leHBvcnQgPSB0cnVlO1xyXG4gICAgcHJpdmF0ZSBfdmlzaWJsZSA9IHRydWU7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3duZXI6IFRHcmlkIHwgVEdyaWRHcm91cE1hc3RlciB8IFRHcmlkR3JvdXBDaGlsZCwgY29kZTogc3RyaW5nLCBuYW1lOiBzdHJpbmcgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIob3duZXIpO1xyXG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZSA/IG5hbWUgOiBjb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvZGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29kZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXROYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29sc3BhbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkUHJvcGVydHkoXCJjb2xzcGFuXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZXRDb2xzcGFuKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLndyaXRlUHJvcGVydHkoXCJjb2xzcGFuXCIsIHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRXaWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZXRXaWR0aCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHZhbHVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEFsaWduKGFsaWduOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmFsaWduID0gYWxpZ247XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWxpZ24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxpZ247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RXhwb3J0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9leHBvcnQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXhwb3J0KHZhbHVlOiBib29sZWFuKTogVEdyaWRDb2x1bW4ge1xyXG4gICAgICAgIHRoaXMuX2V4cG9ydCA9IHZhbHVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZpc2libGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc2libGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VmlzaWJsZSh2YWx1ZTogYm9vbGVhbik6IFRHcmlkQ29sdW1uIHtcclxuICAgICAgICB0aGlzLl92aXNpYmxlID0gdmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBEYXRhUm93IGZyb20gJy4uL2RiL0RhdGFSb3cnO1xyXG5pbXBvcnQgSHRtbFdyaXRlciBmcm9tICcuLi91aS9IdG1sV3JpdGVyJztcclxuaW1wb3J0IFRDb21wb25lbnQgZnJvbSAnLi4vdWkvVENvbXBvbmVudCc7XHJcbmltcG9ydCBUVGQgZnJvbSAnLi4vdWkvVFRkJztcclxuaW1wb3J0IFRUZXh0IGZyb20gJy4uL3VpL1RUZXh0JztcclxuaW1wb3J0IFRUaCBmcm9tICcuLi91aS9UVGgnO1xyXG5pbXBvcnQgVFRyIGZyb20gJy4uL3VpL1RUcic7XHJcbmltcG9ydCBUR3JpZENvbHVtbiBmcm9tICcuL1RHcmlkQ29sdW1uJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRHcmlkR3JvdXAgZXh0ZW5kcyBUQ29tcG9uZW50IHtcclxuICAgIE1heFdpZHRoID0gNjAwO1xyXG4gICAgcHJpdmF0ZSB0aXRsZVZpc2lhYmxlOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHByaXZhdGUgY3VycmVudDogRGF0YVJvdztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihvd25lcjogVENvbXBvbmVudCkge1xyXG4gICAgICAgIHN1cGVyKG93bmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRDdXJyZW50KHJvdzogRGF0YVJvdykge1xyXG4gICAgICAgIHRoaXMuY3VycmVudCA9IHJvdztcclxuICAgIH1cclxuXHJcbiAgICBnZXRDdXJyZW50KCk6IERhdGFSb3cge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VG90YWxXaWR0aCgpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcclxuICAgICAgICB0aGlzLmdldENvbXBvbmVudHMoKS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVEdyaWRDb2x1bW4pXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKyBpdGVtLmdldFdpZHRoKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHJlc3VsdCA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwi5oC75YiX5a695LiN5YWB6K645bCP5LqOMVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlc3VsdCA+IHRoaXMuTWF4V2lkdGgpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDmgLvliJflrr3kuI3lhYHorrjlpKfkuo4gJHt0aGlzLk1heFdpZHRofWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRpdGxlVmlzaWFibGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGl0bGVWaXNpYWJsZVxyXG4gICAgfVxyXG5cclxuICAgIHNldFRpdGxlVmlzaWFibGUodmFsdWU6IGJvb2xlYW4pOiBUR3JpZEdyb3VwIHtcclxuICAgICAgICB0aGlzLnRpdGxlVmlzaWFibGUgPSB2YWx1ZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb2x1bW4oY29sdW1uQ29kZTogc3RyaW5nKTogVEdyaWRDb2x1bW4ge1xyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5nZXRDb21wb25lbnRzKCkpIHtcclxuICAgICAgICAgICAgbGV0IGNvbHVtbiA9IGl0ZW0gYXMgVEdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgIGlmIChjb2x1bW4uZ2V0Q29kZSgpID09IGNvbHVtbkNvZGUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmb3JFYWNoKGZuOiAoY29sdW1uOiBUR3JpZENvbHVtbikgPT4gdm9pZCkge1xyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5nZXRDb21wb25lbnRzKCkpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUR3JpZENvbHVtbilcclxuICAgICAgICAgICAgICAgIGZuLmNhbGwodGhpcywgaXRlbSBhcyBUR3JpZENvbHVtbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG91dHB1dE9mR3JpZFRpdGxlKGh0bWw6IEh0bWxXcml0ZXIpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZ2V0VGl0bGVWaXNpYWJsZSgpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgbGV0IHRyID0gbmV3IFRUcigpO1xyXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy5nZXRDb21wb25lbnRzKCkpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUR3JpZENvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gaXRlbSBhcyBUR3JpZENvbHVtbjtcclxuICAgICAgICAgICAgICAgIGlmICghY2hpbGQuZ2V0VmlzaWJsZSgpKVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRoID0gbmV3IFRUaCh0cik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZ2V0Q29sc3BhbigpKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoLndyaXRlUHJvcGVydHkoXCJjb2xzcGFuXCIsIGNoaWxkLmdldENvbHNwYW4oKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRUb3RhbFdpZHRoKCkgPiAwICYmIGNoaWxkLmdldFdpZHRoKCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJhdGUgPSBjaGlsZC5nZXRXaWR0aCgpIC8gdGhpcy5nZXRUb3RhbFdpZHRoKCkgKiAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGgud3JpdGVQcm9wZXJ0eShcIndpZHRoXCIsIHJhdGUudG9GaXhlZCgxKSArIFwiJVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5ldyBUVGV4dCh0aCkuc2V0VGV4dChjaGlsZC5nZXROYW1lKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyLm91dHB1dChodG1sKTtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IEh0bWxXcml0ZXIgZnJvbSAnLi4vdWkvSHRtbFdyaXRlcic7XHJcbmltcG9ydCBUQ29tcG9uZW50IGZyb20gJy4uL3VpL1RDb21wb25lbnQnO1xyXG5pbXBvcnQgVFRkIGZyb20gJy4uL3VpL1RUZCc7XHJcbmltcG9ydCBUVGV4dCBmcm9tICcuLi91aS9UVGV4dCc7XHJcbmltcG9ydCBUVGggZnJvbSAnLi4vdWkvVFRoJztcclxuaW1wb3J0IFRUciBmcm9tICcuLi91aS9UVHInO1xyXG5pbXBvcnQgVEdyaWRDb2x1bW4gZnJvbSAnLi9UR3JpZENvbHVtbic7XHJcbmltcG9ydCBUR3JpZEdyb3VwIGZyb20gJy4vVEdyaWRHcm91cCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUR3JpZEdyb3VwTWFzdGVyIGV4dGVuZHMgVEdyaWRHcm91cCB7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3duZXI6IFRDb21wb25lbnQpIHtcclxuICAgICAgICBzdXBlcihvd25lcik7XHJcbiAgICB9XHJcblxyXG4gICAgb3V0cHV0KGh0bWw6IEh0bWxXcml0ZXIpOiB2b2lke1xyXG4gICAgICAgIGxldCBub3ROdWxsID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHRyID0gbmV3IFRUcigpO1xyXG4gICAgICAgIHRyLnNldElkKCd0cicgKyB0aGlzLmdldEN1cnJlbnQoKS5nZXREYXRhU2V0KCkuZ2V0UmVjTm8oKSk7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKChjaGlsZDogVEdyaWRDb2x1bW4pID0+IHtcclxuICAgICAgICAgICAgaWYgKCFjaGlsZC5nZXRWaXNpYmxlKCkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0Q3VycmVudCgpLmdldFRleHQoY2hpbGQuZ2V0Q29kZSgpKTtcclxuICAgICAgICAgICAgbGV0IHRkID0gbmV3IFRUZCh0cik7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZC5nZXRDb2xzcGFuKCkpXHJcbiAgICAgICAgICAgICAgICB0ZC53cml0ZVByb3BlcnR5KFwiY29sc3BhblwiLCBjaGlsZC5nZXRDb2xzcGFuKCkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNoaWxkLmdldEFsaWduKCkpIHtcclxuICAgICAgICAgICAgICAgIHRkLndyaXRlUHJvcGVydHkoXCJhbGlnblwiLCBjaGlsZC5nZXRBbGlnbigpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXcgVFRleHQodGQpLnNldFRleHQodmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpXHJcbiAgICAgICAgICAgICAgICBub3ROdWxsID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAobm90TnVsbClcclxuICAgICAgICAgICAgdHIub3V0cHV0KGh0bWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbHVtbkNvdW50KCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcclxuICAgICAgICBmb3IobGV0IGl0ZW0gIG9mIHRoaXMuZ2V0Q29tcG9uZW50cygpKXtcclxuICAgICAgICAgICAgaWYoaXRlbSBpbnN0YW5jZW9mIFRHcmlkQ29sdW1uKXtcclxuICAgICAgICAgICAgICAgIGxldCBjaGlsZCA9IGl0ZW0gYXMgVEdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgICAgICBjb3VudCA9IGNvdW50ICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBIdG1sV3JpdGVyIGZyb20gJy4uL3VpL0h0bWxXcml0ZXInO1xyXG5pbXBvcnQgVENvbXBvbmVudCBmcm9tICcuLi91aS9UQ29tcG9uZW50JztcclxuaW1wb3J0IFRUZCBmcm9tICcuLi91aS9UVGQnO1xyXG5pbXBvcnQgVFRleHQgZnJvbSAnLi4vdWkvVFRleHQnO1xyXG5pbXBvcnQgVFRoIGZyb20gJy4uL3VpL1RUaCc7XHJcbmltcG9ydCBUVHIgZnJvbSAnLi4vdWkvVFRyJztcclxuaW1wb3J0IFRHcmlkQ29sdW1uIGZyb20gJy4vVEdyaWRDb2x1bW4nO1xyXG5pbXBvcnQgVEdyaWRHcm91cCBmcm9tICcuL1RHcmlkR3JvdXAnO1xyXG5pbXBvcnQgVEdyaWRHcm91cE1hc3RlciBmcm9tICcuL1RHcmlkR3JvdXBNYXN0ZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVEdyaWRHcm91cENoaWxkIGV4dGVuZHMgVEdyaWRHcm91cCB7XHJcbiAgICBwcml2YXRlIG1hc3RlcjogVEdyaWRHcm91cE1hc3RlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihvd25lcjogVENvbXBvbmVudCkge1xyXG4gICAgICAgIHN1cGVyKG93bmVyKTtcclxuICAgICAgICB0aGlzLnNldFRpdGxlVmlzaWFibGUoZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIG91dHB1dChodG1sOiBIdG1sV3JpdGVyKSB7XHJcbiAgICAgICAgbGV0IGl0ID0gMDtcclxuICAgICAgICBmb3IobGV0IGNoaWxkIG9mIHRoaXMuZ2V0T3duZXIoKS5nZXRDb21wb25lbnRzKCkpe1xyXG4gICAgICAgICAgICBpZihjaGlsZCA9PSB0aGlzKVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGl0ID0gaXQgKyAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHRleHQ6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKChjaGlsZDogVEdyaWRDb2x1bW4pID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkLmdldFZpc2libGUoKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5nZXRDdXJyZW50KCkuZ2V0VGV4dChjaGlsZC5nZXRDb2RlKCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0ICsgY2hpbGQuZ2V0TmFtZSgpICsgXCI6IFwiICsgdmFsdWUgKyBcIiBcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGxldCB0ciA9IG5ldyBUVHIoKTtcclxuICAgICAgICAgICAgdHIuc2V0SWQoJ3RyJyArIHRoaXMuZ2V0Q3VycmVudCgpLmdldERhdGFTZXQoKS5nZXRSZWNObygpICsgXCJfXCIgKyBpdCk7XHJcbiAgICAgICAgICAgIHRyLnNldENzc1N0eWxlKCdkaXNwbGF5Om5vbmUnKTtcclxuICAgICAgICAgICAgbGV0IHRkID0gbmV3IFRUZCh0cik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1hc3RlcilcclxuICAgICAgICAgICAgICAgIHRkLndyaXRlUHJvcGVydHkoXCJjb2xzcGFuXCIsIFwiXCIgKyB0aGlzLm1hc3Rlci5nZXRDb2x1bW5Db3VudCgpKTtcclxuICAgICAgICAgICAgbmV3IFRUZXh0KHRkKS5zZXRUZXh0KHRleHQpO1xyXG4gICAgICAgICAgICB0ci5vdXRwdXQoaHRtbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldE1hc3RlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXN0ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TWFzdGVyKHZhbHVlOiBUR3JpZEdyb3VwTWFzdGVyKTogVEdyaWRHcm91cENoaWxkIHtcclxuICAgICAgICB0aGlzLm1hc3RlciA9IHZhbHVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgVEdyaWRHcm91cCBmcm9tICcuL1RHcmlkR3JvdXAnO1xyXG5pbXBvcnQgVEdyaWRHcm91cE1hc3RlciBmcm9tICcuL1RHcmlkR3JvdXBNYXN0ZXInO1xyXG5pbXBvcnQgVEdyaWRHcm91cENoaWxkIGZyb20gJy4vVEdyaWRHcm91cENoaWxkJztcclxuaW1wb3J0IFRUYWJsZSBmcm9tICcuLi91aS9UVGFibGUnO1xyXG5pbXBvcnQgVFRyIGZyb20gJy4uL3VpL1RUcic7XHJcbmltcG9ydCBUVGggZnJvbSAnLi4vdWkvVFRoJztcclxuaW1wb3J0IFRUZCBmcm9tICcuLi91aS9UVGQnO1xyXG5pbXBvcnQgVFRleHQgZnJvbSAnLi4vdWkvVFRleHQnO1xyXG5pbXBvcnQgVEdyaWRDb2x1bW4gZnJvbSAnLi9UR3JpZENvbHVtbic7XHJcbmltcG9ydCBUQ29tcG9uZW50IGZyb20gJy4uL3VpL1RDb21wb25lbnQnO1xyXG5pbXBvcnQgSHRtbFdyaXRlciBmcm9tICcuLi91aS9IdG1sV3JpdGVyJztcclxuaW1wb3J0IHsgYXNzZXJ0RXF1YWxzIH0gZnJvbSAnLi4vSlVuaXQnO1xyXG5pbXBvcnQgRGF0YVNldCBmcm9tICcuLi9kYi9EYXRhU2V0JztcclxuaW1wb3J0IEZpZWxkRGVmcyBmcm9tICcuLi9kYi9GaWVsZERlZnMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVEdyaWQgZXh0ZW5kcyBUVGFibGUge1xyXG4gICAgZGF0YVNldDogRGF0YVNldDtcclxuICAgIGdyb3VwczogVEdyaWRHcm91cFtdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3duZXI6IFRDb21wb25lbnQpIHtcclxuICAgICAgICBzdXBlcihvd25lcik7XHJcbiAgICAgICAgdGhpcy5zZXRCb3JkZXIoJzEnKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhU2V0KCk6IERhdGFTZXQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFTZXQ7XHJcbiAgICB9XHJcbiAgICBzZXREYXRhU2V0KGRhdGFTZXQ6IERhdGFTZXQpOiBUR3JpZCB7XHJcbiAgICAgICAgdGhpcy5kYXRhU2V0ID0gZGF0YVNldDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBvdXRwdXQoaHRtbDogSHRtbFdyaXRlcik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmdyb3Vwcy5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmdyb3Vwc1swXS5nZXRDb21wb25lbnRDb3VudCgpID09IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgbGV0IHN1bVdpZHRoID0gMDtcclxuICAgICAgICB0aGlzLmJlZ2luT3V0cHV0KGh0bWwpO1xyXG5cclxuICAgICAgICAvL+WFiOi+k+WHuuS4u+ihjOagh+mimFxyXG4gICAgICAgIGxldCBtYXN0ZXI6IFRHcmlkR3JvdXBNYXN0ZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZ3JvdXBzLmZvckVhY2goKGdyb3VwKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChncm91cCBpbnN0YW5jZW9mIFRHcmlkR3JvdXBNYXN0ZXIpIHtcclxuICAgICAgICAgICAgICAgIG1hc3RlciA9IGdyb3VwIGFzIFRHcmlkR3JvdXBNYXN0ZXI7XHJcbiAgICAgICAgICAgICAgICBtYXN0ZXIub3V0cHV0T2ZHcmlkVGl0bGUoaHRtbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvL+WGjei+k+WHuuWtkOihjOagh+mimFxyXG4gICAgICAgIHRoaXMuZ3JvdXBzLmZvckVhY2goKGdyb3VwKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChncm91cCBpbnN0YW5jZW9mIFRHcmlkR3JvdXBDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gZ3JvdXAgYXMgVEdyaWRHcm91cENoaWxkO1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuc2V0TWFzdGVyKG1hc3Rlcik7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5vdXRwdXRPZkdyaWRUaXRsZShodG1sKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL+WGjei+k+WHuuihqOagvOaVsOaNrlxyXG4gICAgICAgIGlmICh0aGlzLmRhdGFTZXQpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhU2V0LmZpcnN0KCk7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGFTZXQuZmV0Y2goKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvdyA9IHRoaXMuZGF0YVNldC5nZXRDdXJyZW50KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3Vwcy5mb3JFYWNoKChncm91cCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwLnNldEN1cnJlbnQocm93KTtcclxuICAgICAgICAgICAgICAgICAgICBncm91cC5vdXRwdXQoaHRtbCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbmRPdXRwdXQoaHRtbCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ29sdW1ucyhmaWVsZERlZnM6IEZpZWxkRGVmcyk6IHZvaWQge1xyXG4gICAgICAgIGZvciAobGV0IG1ldGEgb2YgZmllbGREZWZzLmdldEl0ZW1zKCkpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmdldENvbHVtbihtZXRhLmdldENvZGUoKSkpXHJcbiAgICAgICAgICAgICAgICBuZXcgVEdyaWRDb2x1bW4odGhpcywgbWV0YS5nZXRDb2RlKCksIG1ldGEuZ2V0TmFtZSgpID8gbWV0YS5nZXROYW1lKCkgOiBtZXRhLmdldENvZGUoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZENvbXBvbmVudChjaGlsZDogVENvbXBvbmVudCk6IFRHcmlkIHtcclxuICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUR3JpZEdyb3VwKSB7XHJcbiAgICAgICAgICAgIHN1cGVyLmFkZENvbXBvbmVudChjaGlsZCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBzLnB1c2goY2hpbGQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0R3JvdXAoMCkuYWRkQ29tcG9uZW50KGNoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R3JvdXAoaW5kZXg6IG51bWJlcik6IFRHcmlkR3JvdXAge1xyXG4gICAgICAgIGlmIChpbmRleCA+ICh0aGlzLmdyb3Vwcy5sZW5ndGggLSAxKSkge1xyXG4gICAgICAgICAgICBsZXQgbWF4ID0gaW5kZXggLSB0aGlzLmdyb3Vwcy5sZW5ndGggKyAxO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBuZXcgVEdyaWRHcm91cE1hc3Rlcih0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5ncm91cHNbaW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbHVtbihjb2x1bW5Db2RlOiBzdHJpbmcpOiBUR3JpZENvbHVtbiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdyb3Vwcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgZ3JvdXAgPSB0aGlzLmdldEdyb3VwKGkpO1xyXG4gICAgICAgICAgICBsZXQgY29sdW1uID0gZ3JvdXAuZ2V0Q29sdW1uKGNvbHVtbkNvZGUpO1xyXG4gICAgICAgICAgICBpZiAoY29sdW1uKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5nZXRDb21wb25lbnRzKCkpXHJcbiAgICAgICAgICAgIGNoaWxkLnNldE93bmVyKG51bGwpO1xyXG4gICAgICAgIHRoaXMuZ3JvdXBzID0gW107XHJcbiAgICAgICAgdGhpcy5kYXRhU2V0ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnRGaWxlKGZpbGVOYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICAvL0NTVuagvOW8j+WPr+S7peiHquW3seiuvuWumu+8jOmAgueUqE15U1FM5a+85YWl5oiW6ICFZXhjZWzmiZPlvIDjgIJcclxuICAgICAgICAvL+eUseS6jkV4Y2Vs5Y2V5YWD5qC85a+55LqO5pWw5a2X5Y+q5pSv5oyBMTXkvY3vvIzkuJTpppbkvY3kuLow5Lya6IiN5byDIOW7uuiurueUqCA94oCc5pWw5YC84oCdIFxyXG4gICAgICAgIGxldCBzdHIgPSBcIlwiO1xyXG5cclxuICAgICAgICAvLyDlrprkuYnlpLTpg6hcclxuICAgICAgICBmb3IgKGxldCBncm91cCBvZiB0aGlzLmdyb3Vwcykge1xyXG4gICAgICAgICAgICBncm91cC5nZXRDb21wb25lbnRzKCkuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbHVtbiA9IGl0ZW0gYXMgVEdyaWRDb2x1bW47XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmdldEV4cG9ydCgpKVxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciArPSBjb2x1bW4uZ2V0TmFtZSgpICsgXCIsXCI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdHIgKz0gJ1xcbic7XHJcblxyXG4gICAgICAgIC8vIOWFt+S9k+aVsOWAvOmBjeWOhlxyXG4gICAgICAgIHRoaXMuZGF0YVNldC5maXJzdCgpO1xyXG4gICAgICAgIHdoaWxlICh0aGlzLmRhdGFTZXQuZmV0Y2goKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBncm91cCBvZiB0aGlzLmdyb3Vwcykge1xyXG4gICAgICAgICAgICAgICAgZ3JvdXAuZ2V0Q29tcG9uZW50cygpLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY29sdW1uID0gaXRlbSBhcyBUR3JpZENvbHVtbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmdldEV4cG9ydCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZGF0YVNldC5nZXRUZXh0KGNvbHVtbi5nZXRDb2RlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gdmFsdWUucmVwbGFjZSgvLC9nLCBcIu+8jFwiKSArIFwiLFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0ciArPSAnXFxuJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBibG9iID0gbmV3IEJsb2IoW3N0cl0sIHsgdHlwZTogXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLThcIiB9KTtcclxuICAgICAgICAvL+ino+WGs+S4reaWh+S5seeggemXrumimFxyXG4gICAgICAgIGJsb2IgPSBuZXcgQmxvYihbU3RyaW5nLmZyb21DaGFyQ29kZSgweEZFRkYpLCBibG9iXSwgeyB0eXBlOiBibG9iLnR5cGUgfSk7XHJcbiAgICAgICAgbGV0IG9iamVjdF91cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICBsZXQgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xyXG4gICAgICAgIGxpbmsuaHJlZiA9IG9iamVjdF91cmw7XHJcbiAgICAgICAgbGluay5kb3dubG9hZCA9IGZpbGVOYW1lO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICAgICAgbGluay5jbGljaygpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyBsZXQganNvbiA9ICd7XCJzdGF0ZVwiOjEsXCJib2R5XCI6W1tcIlVJRF9cIixcImNvcnBOb19cIixcImNvZGVfXCIsXCJuYW1lX1wiLFwic2V4X1wiLFwiYWdlX1wiLFwiY3JlYXRlVGltZV9cIixcInVwZGF0ZVRpbWVfXCJdLFs5NyxudWxsLDEyMzQ1LFwi5q+b5be+XCIsMCw0MCxcIjIwMjEtMDQtMTIgMTU6MDU6NTFcIixcIjIwMjEtMDUtMjUgMTg6MDY6NDdcIl0sWzk4LG51bGwsMTExLFwia3lpXCIsMCwxOSxcIjIwMjEtMDQtMTIgMTc6MDE6NTVcIixcIjIwMjEtMDQtMTIgMTc6MDE6NTVcIl0sWzk5LG51bGwsNTU1LFwi5a+H5pm2XCIsMCwyOCxcIjIwMjEtMDQtMTIgMTc6MDI6MjdcIixcIjIwMjEtMDQtMTIgMTc6MDI6MjdcIl0sWzEwMCxudWxsLDQyMyxcIuacseWkp+emj1wiLDAsMTksXCIyMDIxLTA0LTEyIDE3OjAzOjAyXCIsXCIyMDIxLTA0LTEyIDE5OjE0OjI0XCJdLFsxMDEsbnVsbCwzMjEsXCJza1wiLDEsMjQsXCIyMDIxLTA1LTEzIDA4OjQ1OjM3XCIsXCIyMDIxLTA1LTE0IDEwOjUyOjU1XCJdXX0nO1xyXG4vLyBsZXQgZHMgPSBuZXcgRGF0YVNldCgpLnNldEpzb24oanNvbik7XHJcbi8vIGFzc2VydEVxdWFscyhqc29uLCBkcy5nZXRKc29uKCkpXHJcblxyXG4vLyBsZXQgZ3JpZCA9IG5ldyBUR3JpZChudWxsKTtcclxuLy8gbmV3IFRHcmlkQ29sdW1uKGdyaWQsIFwiY29kZV9cIiwgXCLku6PnoIFcIikuc2V0V2lkdGgoMzUpO1xyXG4vLyBuZXcgVEdyaWRDb2x1bW4oZ3JpZCwgXCJuYW1lX1wiLCBcIuWQjeensFwiKS5zZXRXaWR0aCg2MCk7XHJcbi8vIG5ldyBUR3JpZENvbHVtbihncmlkLmdldEdyb3VwKDEpLCBcInNleF9cIiwgXCLmgKfliKtcIikuc2V0Q29scygnMicpO1xyXG4vLyBncmlkLnNldERhdGFTZXQoZHMpO1xyXG5cclxuLy8gZHMuZ2V0RmllbGREZWZzKCkuZ2V0KFwic2V4X1wiKS5vbkdldFRleHQgPSAocm93OiBEYXRhUm93LCBtZXRhOiBGaWVsZE1ldGEpID0+IHtcclxuLy8gICAgIHJldHVybiByb3cuZ2V0VmFsdWUobWV0YS5nZXRDb2RlKCkpID09IDEgPyBcIueUt1wiIDogXCLlpbNcIjtcclxuLy8gfTtcclxuXHJcbi8vIGdyaWQucmVuZGVyKCk7XHJcblxyXG4iLCJpbXBvcnQgRGF0YVNldCBmcm9tIFwiLi4vZGIvRGF0YVNldFwiO1xyXG5pbXBvcnQgVENvbXBvbmVudCBmcm9tIFwiLi4vdWkvVENvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVE11dGlQYWdlIGV4dGVuZHMgVENvbXBvbmVudCB7XHJcbiAgICAvL+avj+mhteWkp+Wwj1xyXG4gICAgcGFnZVNpemUgPSAxMDA7XHJcbiAgICAvL+aAu+iusOW9leaVsFxyXG4gICAgcmVjb3JkQ291bnQgPSAwO1xyXG4gICAgLy/lvZPliY3pobVcclxuICAgIHBhZ2VObyA9IDE7XHJcbiAgICAvL+aVsOaNrumbhlxyXG4gICAgZGF0YVNldDogRGF0YVNldDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihvd25lcjogVENvbXBvbmVudCkge1xyXG4gICAgICAgIHN1cGVyKG93bmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZWNvcmRDb3VudCgpIHsgcmV0dXJuIHRoaXMucmVjb3JkQ291bnQgfTtcclxuXHJcbiAgICBzZXRQYWdlU2l6ZSh2YWx1ZTogbnVtYmVyKSB7IHRoaXMucGFnZVNpemUgPSB2YWx1ZTsgcmV0dXJuIHRoaXMgfVxyXG4gICAgZ2V0UGFnZVNpemUoKSB7IHJldHVybiB0aGlzLnBhZ2VTaXplIH1cclxuXHJcbiAgICBzZXRQYWdlTm8odmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDEpXHJcbiAgICAgICAgICAgIHRoaXMucGFnZU5vID0gMTtcclxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA8IHRoaXMuZ2V0Q291bnQoKSlcclxuICAgICAgICAgICAgdGhpcy5wYWdlTm8gPSB2YWx1ZTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMucGFnZU5vID0gdGhpcy5nZXRDb3VudCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgZ2V0UGFnZU5vKCkgeyByZXR1cm4gdGhpcy5wYWdlTm8gfVxyXG5cclxuICAgIHNldERhdGFTZXQodmFsdWU6IERhdGFTZXQpOiBUTXV0aVBhZ2Uge1xyXG4gICAgICAgIHRoaXMuZGF0YVNldCA9IHZhbHVlO1xyXG4gICAgICAgIGlmICh2YWx1ZSlcclxuICAgICAgICAgICAgdGhpcy5yZWNvcmRDb3VudCA9IHZhbHVlLmdldFJlY29yZHMoKS5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YVNldCgpIHsgcmV0dXJuIHRoaXMuZGF0YVNldCB9XHJcblxyXG4gICAgZ2V0QmVnaW4oKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnBhZ2VObyAtIDEpICogdGhpcy5wYWdlU2l6ZSArIDE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RW5kKCkge1xyXG4gICAgICAgIGxldCB0ZW1wID0gdGhpcy5wYWdlTm8gKiB0aGlzLnBhZ2VTaXplO1xyXG4gICAgICAgIHJldHVybiB0ZW1wIDwgdGhpcy5yZWNvcmRDb3VudCA/IHRlbXAgOiB0aGlzLnJlY29yZENvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8v5oC76aG15pWwXHJcbiAgICBnZXRDb3VudCgpIHtcclxuICAgICAgICBsZXQgdGVtcCA9IHRoaXMucmVjb3JkQ291bnQgJSB0aGlzLnBhZ2VTaXplO1xyXG4gICAgICAgIHJldHVybiAodGhpcy5yZWNvcmRDb3VudCAtIHRlbXApIC8gdGhpcy5wYWdlU2l6ZSArICh0ZW1wID4gMCA/IDEgOiAwKTtcclxuICAgIH1cclxuXHJcbiAgICBmb3JFYWNoKGNhbGxiYWNrOiBhbnkpIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhU2V0ID09IG51bGwpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRoaXMuZGF0YVNldCBpcyBudWxsXCIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5nZXRCZWdpbigpOyBpIDw9IHRoaXMuZ2V0RW5kKCk7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFTZXQuc2V0UmVjTm8oaSsxKTtcclxuICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5kYXRhU2V0LmdldEN1cnJlbnQoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBsZXQgcGFnZXMgPSBuZXcgVE11dGlQYWdlKCk7XHJcbi8vIHBhZ2VzLnNldERhdGFTZXQobmV3IERhdGFTZXQoKS5hcHBlbmQoKSk7XHJcbi8vIHBhZ2VzLmZvckVhY2goaXRlbSA9PiBjb25zb2xlLmxvZyhpdGVtKSk7XHJcblxyXG4vLyBjb25zb2xlLmxvZyhcImNvdW50OlwiICsgcGFnZXMuZ2V0Q291bnQoKSk7XHJcbi8vIHBhZ2VzLnNldFBhZ2VObygwKTtcclxuLy8gY29uc29sZS5sb2cocGFnZXMuZ2V0UGFnZU5vKCkgKyBcIiBiZWdpbjpcIiArIHBhZ2VzLmdldEJlZ2luKCkgKyBcIiwgZW5kOlwiICsgcGFnZXMuZ2V0RW5kKCkpO1xyXG4vLyBwYWdlcy5zZXRQYWdlTm8oMSk7XHJcbi8vIGNvbnNvbGUubG9nKHBhZ2VzLmdldFBhZ2VObygpICsgXCIgYmVnaW46XCIgKyBwYWdlcy5nZXRCZWdpbigpICsgXCIsIGVuZDpcIiArIHBhZ2VzLmdldEVuZCgpKTtcclxuLy8gcGFnZXMuc2V0UGFnZU5vKDIpO1xyXG4vLyBjb25zb2xlLmxvZyhwYWdlcy5nZXRQYWdlTm8oKSArIFwiIGJlZ2luOlwiICsgcGFnZXMuZ2V0QmVnaW4oKSArIFwiLCBlbmQ6XCIgKyBwYWdlcy5nZXRFbmQoKSk7XHJcbi8vIHBhZ2VzLnNldFBhZ2VObygzKTtcclxuLy8gY29uc29sZS5sb2cocGFnZXMuZ2V0UGFnZU5vKCkgKyBcIiBiZWdpbjpcIiArIHBhZ2VzLmdldEJlZ2luKCkgKyBcIiwgZW5kOlwiICsgcGFnZXMuZ2V0RW5kKCkpO1xyXG4vLyBwYWdlcy5zZXRQYWdlTm8oNCk7XHJcbi8vIGNvbnNvbGUubG9nKHBhZ2VzLmdldFBhZ2VObygpICsgXCIgYmVnaW46XCIgKyBwYWdlcy5nZXRCZWdpbigpICsgXCIsIGVuZDpcIiArIHBhZ2VzLmdldEVuZCgpKTtcclxuIiwiaW1wb3J0IFRDb21wb25lbnQgZnJvbSBcIi4uL3VpL1RDb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRXaW5Gb3JtIGV4dGVuZHMgVENvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIobnVsbCk7XHJcbiAgICAgICAgdGhpcy5zZXRDb250YWluZXIoJ2FwcCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRpdGxlKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IHZhbHVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRpdGxlKCkge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC50aXRsZTtcclxuICAgIH1cclxufSIsImltcG9ydCBUQ29tcG9uZW50IGZyb20gXCIuLi91aS9UQ29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUUGFuZWwgZXh0ZW5kcyBUQ29tcG9uZW50IHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihvd25lcjogVENvbXBvbmVudCkge1xyXG4gICAgICAgIHN1cGVyKG93bmVyKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBUU3BhbiB9IGZyb20gXCIuLi9TdW1tZXJDSVwiO1xyXG5pbXBvcnQgVENvbXBvbmVudCBmcm9tIFwiLi4vdWkvVENvbXBvbmVudFwiO1xyXG5pbXBvcnQgVElucHV0IGZyb20gXCIuLi91aS9USW5wdXRcIjtcclxuaW1wb3J0IFRUZXh0IGZyb20gXCIuLi91aS9UVGV4dFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVEVkaXRUZXh0IGV4dGVuZHMgVENvbXBvbmVudCB7XHJcbiAgICBwcml2YXRlIGxhYmVsOiBUU3BhbjtcclxuICAgIHByaXZhdGUgaW5wdXQ6IFRJbnB1dDtcclxuICAgIHByaXZhdGUgdmFsdWU6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihvd25lcjogVENvbXBvbmVudCkge1xyXG4gICAgICAgIHN1cGVyKG93bmVyKTtcclxuICAgICAgICB0aGlzLnNldFJvb3RMYWJlbCgnZGl2Jyk7XHJcblxyXG4gICAgICAgIHRoaXMubGFiZWwgPSBuZXcgVFNwYW4odGhpcyk7XHJcbiAgICAgICAgdGhpcy5sYWJlbC5zZXRUZXh0KCdsYWJlbDonKTtcclxuICAgICAgICB0aGlzLmlucHV0ID0gbmV3IFRJbnB1dCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRMYWJlbCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxhYmVsLmdldFRleHQoKTtcclxuICAgIH1cclxuICAgIHNldExhYmVsKGxhYmVsOiBzdHJpbmcpOiBURWRpdFRleHQge1xyXG4gICAgICAgIHRoaXMubGFiZWwuc2V0VGV4dChsYWJlbCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGVmYXVsdFZhbHVlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXQuZ2V0VmFsdWUoKTtcclxuICAgIH1cclxuICAgIHNldERlZmF1bHRWYWx1ZSh2YWx1ZTogc3RyaW5nKTogVEVkaXRUZXh0IHtcclxuICAgICAgICB0aGlzLmlucHV0LnNldFZhbHVlKHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRWYWx1ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZ2V0SWQoKSlcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aGlzIGlzIGlzIG51bGwnKTtcclxuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmdldElkKCkpO1xyXG4gICAgICAgIGlmICghZWwpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbm90IGZpbmQgZWxlbWVudEJ5SWQ6ICR7dGhpcy5nZXRJZCgpfWApO1xyXG5cclxuICAgICAgICBsZXQgY2hpbGQgPSBlbC5jaGlsZHJlblsxXSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIHJldHVybiBjaGlsZC52YWx1ZTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgKiBhcyBzY2kgZnJvbSAnLi9TdW1tZXJDSSc7XHJcbi8vIEB0cy1pZ25vcmVcclxud2luZG93LnNjaSA9IHNjaTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInNlc3Npb25JZCIsInRoaXMiLCJjb2RlIiwia2luZCIsIm5hbWUiLCJyZW1hcmsiLCJ0eXBlIiwiZ2V0Q29kZSIsImdldE5hbWUiLCJzZXROYW1lIiwiZ2V0UmVtYXJrIiwic2V0UmVtYXJrIiwiZ2V0VHlwZSIsInNldFR5cGUiLCJnZXRLaW5kIiwic2V0S2luZCIsIl9vbkdldFRleHQiLCJmbiIsImZpZWxkcyIsImFkZCIsImV4aXN0cyIsIml0ZW0iLCJwdXNoIiwiaSIsImxlbmd0aCIsInJlc3VsdCIsImZvckVhY2giLCJzaXplIiwiY2xlYXIiLCJtZXRhIiwiZ2V0SXRlbXMiLCJkYXRhU2V0Iiwic3RhdGUiLCJpdGVtcyIsIk1hcCIsImRlbHRhIiwiZmllbGREZWZzIiwiZ2V0RmllbGREZWZzIiwiZ2V0U3RhdGUiLCJzZXRTdGF0ZSIsInJlY29yZFN0YXRlIiwiY2xvc2UiLCJzZXRWYWx1ZSIsImZpZWxkIiwiRXJyb3IiLCJhZGRGaWVsZERlZiIsInNldCIsImNvcHlWYWx1ZXMiLCJzb3VyY2UiLCJkZWZzIiwiZ2V0VmFsdWUiLCJ1bmRlZmluZWQiLCJnZXRTdHJpbmciLCJnZXRCb29sZWFuIiwiZ2V0RG91YmxlIiwicGFyc2VGbG9hdCIsImdldFRleHQiLCJvbkdldFRleHQiLCJzZXRUZXh0IiwiT25TZXRUZXh0IiwiZ2V0RGVsdGEiLCJnZXRKc29uIiwiSlNPTiIsInN0cmluZ2lmeSIsInNldEpzb24iLCJqc29uT2JqIiwianNvbiIsImsiLCJwYXJzZSIsImdldERhdGFTZXQiLCJrZXlzIiwiU2V0IiwiY3VycmVudEZpZWxkcyIsInZhbHVlcyIsInNwbGl0IiwiZmlyc3QiLCJmZXRjaCIsImFwcGVuZCIsImdldEN1cnJlbnQiLCJidWlsZE9iamVjdEtleSIsInJlbW92ZSIsInJlY29yZCIsImRlbGV0ZSIsImJ1aWxkUmVjb3JkS2V5Iiwiam9pbiIsInJlY05vIiwiZmV0Y2hObyIsIm1lc3NhZ2UiLCJtZXRhSW5mbyIsImhlYWQiLCJyZWNvcmRzIiwiZW9mIiwiYm9mIiwic2V0UmVjTm8iLCJnZXRSZWNObyIsInNwbGljZSIsImxhc3QiLCJuZXh0IiwiY29weVJlY29yZCIsInNlYXJjaCIsImdldEhlYWQiLCJnZXRSZWNvcmRzIiwibG9jYXRlIiwiQXJyYXkiLCJmcm9tIiwiaW5kZXhPZiIsImJvZHkiLCJyb3ciLCJzZXRNZXRhSW5mbyIsIm1hcCIsImRhdGEiLCJkYXRhc2V0IiwiaiIsImdldE1lc3NhZ2UiLCJzZXRNZXNzYWdlIiwiZ2V0TWV0YUluZm8iLCJhcHBlbmREYXRhU2V0Iiwib3duZXIiLCJzaWQiLCJob3N0IiwiX2RhdGFJbiIsImV4ZWMiLCJmdW5jIiwic2VydmljZSIsInVybCIsIm1ldGhvZCIsImdldERhdGFJbiIsImhlYWRlcnMiLCJ0aGVuIiwicmVzcG9uc2UiLCJjb250ZW50VHlwZSIsImNvbnNvbGUiLCJsb2ciLCJkYXRhT3V0Iiwic2V0RGF0YUluIiwic2V0SG9zdCIsInNldFNlcnZpY2UiLCJzcWwiLCJ0cmltIiwiZ2V0U3FsVGV4dCIsInNldFNxbFRleHQiLCJvcGVuIiwiZmluZFRhYmxlTmFtZSIsInRvTG93ZXJDYXNlIiwibGluZXMiLCJwcmludCIsInRleHQiLCJwcmludGxuIiwibGluZSIsImNvbXBvbmVudHMiLCJwcm9wZXJ0eXMiLCJldmVudHMiLCJzZXRPd25lciIsImdldE93bmVyIiwicmVtb3ZlQ29tcG9uZW50IiwiYWRkQ29tcG9uZW50IiwiY29tcG9uZW50IiwiaGFzIiwib3JpZ2luIiwiZ2V0Q29tcG9uZW50cyIsImdldENvbXBvbmVudENvdW50Iiwic2V0Um9vdExhYmVsIiwicm9vdExhYmVsIiwiZ2V0Um9vdExhYmVsIiwiYmVnaW5PdXRwdXQiLCJodG1sIiwidiIsIm91dHB1dCIsImVuZE91dHB1dCIsInRvU3RyaW5nIiwicmVhZFByb3BlcnR5Iiwid3JpdGVQcm9wZXJ0eSIsImdldElkIiwic2V0SWQiLCJpZCIsInNldENzc0NsYXNzIiwiY3NzQ2xhc3MiLCJnZXRDc3NDbGFzcyIsInNldENzc1N0eWxlIiwic3R5bGUiLCJnZXRDc3NTdHlsZSIsInJlbmRlciIsImNvbnRhaW5lciIsInNldENvbnRhaW5lciIsImRvY3VtZW50IiwiY29udGVudElkIiwiZWwiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsInJlZ2lzdGVyRXZlbnRzIiwicm9vdCIsImV2ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoaWxkIiwiZ2V0Q29udGFpbmVyIiwic3BhbiIsInNldEJvcmRlciIsImdldEJvcmRlciIsInNldE1ldGhvZCIsImdldE1ldGhvZCIsInNldEFjdGlvbiIsImFjdGlvbiIsImdldEFjdGlvbiIsImdldEhyZWYiLCJzZXRIcmVmIiwiZ2V0SHRtbFZhbHVlIiwiaW5uZXJUZXh0IiwicnVuIiwid2lkdGgiLCJfZXhwb3J0IiwiX3Zpc2libGUiLCJnZXRDb2xzcGFuIiwic2V0Q29sc3BhbiIsImdldFdpZHRoIiwic2V0V2lkdGgiLCJzZXRBbGlnbiIsImFsaWduIiwiZ2V0QWxpZ24iLCJnZXRFeHBvcnQiLCJzZXRFeHBvcnQiLCJnZXRWaXNpYmxlIiwic2V0VmlzaWJsZSIsIk1heFdpZHRoIiwidGl0bGVWaXNpYWJsZSIsInNldEN1cnJlbnQiLCJjdXJyZW50IiwiZ2V0VG90YWxXaWR0aCIsImdldFRpdGxlVmlzaWFibGUiLCJzZXRUaXRsZVZpc2lhYmxlIiwiZ2V0Q29sdW1uIiwiY29sdW1uQ29kZSIsImNvbHVtbiIsIm91dHB1dE9mR3JpZFRpdGxlIiwidHIiLCJ0aCIsInJhdGUiLCJ0b0ZpeGVkIiwibm90TnVsbCIsInRkIiwiZ2V0Q29sdW1uQ291bnQiLCJjb3VudCIsIml0IiwibWFzdGVyIiwiZ2V0TWFzdGVyIiwic2V0TWFzdGVyIiwiZ3JvdXBzIiwic2V0RGF0YVNldCIsImdyb3VwIiwiYWRkQ29sdW1ucyIsImdldEdyb3VwIiwiaW5kZXgiLCJtYXgiLCJleHBvcnRGaWxlIiwiZmlsZU5hbWUiLCJzdHIiLCJyZXBsYWNlIiwiYmxvYiIsIkJsb2IiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJvYmplY3RfdXJsIiwid2luZG93IiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwibGluayIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiZG93bmxvYWQiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJwYWdlU2l6ZSIsInJlY29yZENvdW50IiwicGFnZU5vIiwiZ2V0UmVjb3JkQ291bnQiLCJzZXRQYWdlU2l6ZSIsImdldFBhZ2VTaXplIiwic2V0UGFnZU5vIiwiZ2V0Q291bnQiLCJnZXRQYWdlTm8iLCJnZXRCZWdpbiIsImdldEVuZCIsInRlbXAiLCJjYWxsYmFjayIsInNldFRpdGxlIiwidGl0bGUiLCJnZXRUaXRsZSIsImxhYmVsIiwiaW5wdXQiLCJnZXRMYWJlbCIsInNldExhYmVsIiwiZ2V0RGVmYXVsdFZhbHVlIiwic2V0RGVmYXVsdFZhbHVlIiwiY2hpbGRyZW4iLCJzY2kiXSwic291cmNlUm9vdCI6IiJ9