(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{DataRow:()=>o,DataSet:()=>s,FieldDefs:()=>r,FieldMeta:()=>n,HtmlWriter:()=>p,QueryService:()=>f,RemoteService:()=>u,SearchDataSet:()=>i,TA:()=>A,TApplication:()=>et,TButton:()=>d,TComponent:()=>l,TCustomComponent:()=>B,TDBEdit:()=>ut,TDBNavigator:()=>pt,TDiv:()=>y,TEdit:()=>it,TForm:()=>N,TGrid:()=>X,TGridColumn:()=>q,TGridGroup:()=>H,TGridGroupChild:()=>K,TGridGroupMaster:()=>W,TInput:()=>L,TLine:()=>k,TMutiPage:()=>Z,TPage:()=>G,TPanel:()=>rt,TSpan:()=>m,TStatusBar:()=>at,TTable:()=>O,TTd:()=>x,TText:()=>b,TTh:()=>S,TTr:()=>P});const n=function(){function t(t,e){void 0===e&&(e=0),this._code=null,this._name=null,this._remark=null,this._type=null,this._kind=null,this._code=t,this._kind=e}return Object.defineProperty(t.prototype,"json",{get:function(){var t={};return t.code=this._code,t.name=this._name,t.remark=this._remark,t.type=this._type,t.kind=this._kind,t},set:function(t){var e=t.code,n=t.name,r=t.remark,o=t.type,i=t.kind;if(e&&e!=this.code)throw new Error("code("+this.code+") not update");n&&(this._name=n),r&&(this._remark=r),o&&(this._type=o),i&&(this._kind=i)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remark",{get:function(){return this._remark},set:function(t){this._remark=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"kind",{get:function(){return this._kind},set:function(t){this._kind=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onGetText",{get:function(){return this._onGetText},set:function(t){this._onGetText=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onSetText",{get:function(){return this._onSetText},set:function(t){this._onSetText=t},enumerable:!1,configurable:!0}),t}(),r=function(){function t(){this._fields=[]}return Object.defineProperty(t.prototype,"json",{get:function(){for(var t=[],e=0,n=this._fields;e<n.length;e++){var r=n[e];t.push(r.json)}return t},set:function(t){this._fields=[];for(var e=0,r=t;e<r.length;e++){var o=r[e],i=o.code,s=o.kind,u=new n(i,s);this._fields.push(u)}},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){if(void 0===e&&(e=0),this.exists(t))return this.get(t);var r=new n(t,e);return this._fields.push(r),r},t.prototype.exists=function(t){for(var e=0;e<this._fields.length;e++)if(this._fields[e].code==t)return!0;return!1},t.prototype.get=function(t){var e=null;return this._fields.forEach((function(n){n.code!=t||(e=n)})),e},Object.defineProperty(t.prototype,"size",{get:function(){return this._fields.length},enumerable:!1,configurable:!0}),t.prototype.clear=function(){this._fields=[]},t.prototype.forEach=function(t){for(var e=0,n=this._fields;e<n.length;e++){var r=n[e];t.call(this,r)}},Object.defineProperty(t.prototype,"fields",{get:function(){return this._fields},enumerable:!1,configurable:!0}),t.prototype.copy=function(t){for(var e=0,n=t.fields;e<n.length;e++){var r=n[e];this.exists(r.code)||this._fields.push(r)}},t}();const o=function(){function t(t){void 0===t&&(t=null),this._state=0,this._items=new Map,this._delta=new Map,this._bindControls=new Set,this._bindEnabled=!0,t?(this._dataSet=t,this._fieldDefs=t.fieldDefs):this._fieldDefs=new r}return Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(t){2==t&&this._state,0==t&&this._delta.clear(),this._state=t},enumerable:!1,configurable:!0}),t.prototype.close=function(){this._items.clear()},t.prototype.setValue=function(t,e){if(!t)throw new Error("field is null!");return this.addFieldDef(t),this._items.set(t,e),this.bindEnabled&&this.refreshBind(),this},t.prototype.copyValues=function(t,e){var n=this;void 0===e&&(e=null),null==e&&(e=t.fieldDefs),e.forEach((function(e){n.setValue(e.code,t.getValue(e.code))}))},t.prototype.addFieldDef=function(t){if(null==t)throw new Error("field is null");this._fieldDefs.exists(t)||this._fieldDefs.add(t)},t.prototype.getValue=function(t){if(!t)throw new Error("field is null!");var e=this._items.get(t);return null==e?null:e},t.prototype.getString=function(t){var e=this.getValue(t);return e?""+e:""},t.prototype.getBoolean=function(t){return!!this.getValue(t)},t.prototype.getDouble=function(t){var e=this.getString(t);return parseFloat(e)?parseFloat(e):0},t.prototype.getText=function(t){var e=this.fieldDefs.add(t);return null!=e.onGetText?e.onGetText(this,e):this.getString(t)},t.prototype.setText=function(t,e){var n=this.fieldDefs.add(t);return null!=n.onSetText?this.setValue(n.code,n.onSetText(this,n,e)):this.setValue(t,e),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._items.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"jsonString",{get:function(){for(var t={},e=0,n=this._fieldDefs.fields;e<n.length;e++){var r=n[e].code;t[r]=this.getValue(r)}return JSON.stringify(t)},set:function(t){if(!t)throw new Error("jsonText is null!");var e;for(var n in e="string"==typeof t?JSON.parse(t):t)this.setValue(n,e[n])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){for(var t={},e=0,n=this._fieldDefs.fields;e<n.length;e++){var r=n[e];t[r.code]=this.getValue(r.code)}return t},set:function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this.setValue(r,t[r])}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldDefs",{get:function(){return this._dataSet?this._dataSet.fieldDefs:(this._fieldDefs||(this._fieldDefs=new r),this._fieldDefs)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){for(var e=0,n=this._fieldDefs.fields;e<n.length;e++){var r=n[e].code;t.call(this,r,this.getValue(r))}},Object.defineProperty(t.prototype,"dataSet",{get:function(){return this._dataSet},enumerable:!1,configurable:!0}),t.prototype.registerBind=function(t,e){void 0===e&&(e=!0),e?this._bindControls.add(t):this._bindControls.delete(t)},t.prototype.refreshBind=function(t){void 0===t&&(t=void 0),this._bindEnabled&&this._bindControls.forEach((function(e){e.doChange(t)}))},Object.defineProperty(t.prototype,"bindEnabled",{get:function(){return this._bindEnabled},set:function(t){this._bindEnabled=t},enumerable:!1,configurable:!0}),t}(),i=function(){function t(t){this._items=new Map,this._keys=new Set,this._dataSet=t}return t.prototype.get=function(t,e){if(!t)throw new Error("fields can't be null");if(0==this._dataSet.size)return null;var n;if(0===(n="object"!=typeof e?[e]:e).length)throw new Error("keys can't values length = 0 ");if(this._fields!==t){this.clear(),this._fields=t;for(var r=0,o=this._fields.split(";");r<o.length;r++){var i=o[r];if(!this._dataSet.exists(i))throw new Error("field "+i+" not find !");this._keys.add(i)}if(this._keys.size>0)for(this._dataSet.first();this._dataSet.fetch();)this.append(this._dataSet.getCurrent())}if(this._keys.size!==n.length)throw new Error("[参数名称]与[值]个数不匹配");return this._items.get(this.buildObjectKey(n))},t.prototype.remove=function(t){this._items.delete(this.buildRecordKey(t))},t.prototype.append=function(t){this._items.set(this.buildRecordKey(t),t)},t.prototype.clear=function(){this._fields=null,this._keys.clear(),this._items.clear()},t.prototype.buildRecordKey=function(t){var e=[];return this._keys.forEach((function(n){return e.push(t.getString(n)||"null")})),e.join(";")},t.prototype.buildObjectKey=function(t){var e=[];return t.forEach((function(t){return e.push(""+t||"null")})),e.join(";")},t}(),s=function(){function t(t){if(void 0===t&&(t=null),this._recNo=0,this._fetchNo=-1,this._state=0,this._message="",this._fieldDefs=new r,this._metaInfo=!1,this._head=new o,this._records=[],this._bindControls=new Set,this._bindEnabled=!0,t){var e=t.state,n=t.message;e&&(this._state=e),n&&(this._message=n)}}return t.prototype.getCurrent=function(){if(this.eof()||this.bof())return null;var t=this._recNo-1;return this._records[t]},t.prototype.append=function(){var t=new o(this);return this._records.push(t),this._recNo=this._records.length,this},t.prototype.delete=function(){this.getCurrent()&&(this.recNo=this.recNo-1,this._records.splice(this.recNo,1),this.refreshBind({size:!0}))},t.prototype.first=function(){return this._records.length>0?this.recNo=1:this.recNo=0,this._fetchNo=-1,this._recNo>0},t.prototype.last=function(){return this.recNo=this._records.length,this._recNo>0},t.prototype.prior=function(){return this._recNo>0&&(this.recNo=this.recNo-1),this._recNo>0&&this._recNo<=this._records.length},t.prototype.next=function(){return this._recNo<=this._records.length&&(this.recNo=this.recNo+1),this._recNo>0&&this._recNo<=this._records.length},t.prototype.bof=function(){return 0==this._recNo},t.prototype.eof=function(){return 0==this._records.length||this._recNo>this._records.length},Object.defineProperty(t.prototype,"size",{get:function(){return this._records.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"recNo",{get:function(){return this._recNo},set:function(t){if(t>this._records.length+1)throw new Error("RecNo "+this._recNo+" 大于总长度 "+this._records.length);if(t<0)throw new Error("RecNo "+this._recNo+" 不允许小于零");this._recNo!=t&&(this._recNo=t,this.refreshBind({recNo:!0}))},enumerable:!1,configurable:!0}),t.prototype.fetch=function(){var t=!1;return this._fetchNo<this._records.length-1&&(this._fetchNo++,this.recNo=this._fetchNo+1,t=!0),t},t.prototype.copyRecord=function(t,e){var n=this.getCurrent();this._search?(this._search.remove(n),n.copyValues(t,e),this._search.append(n)):n.copyValues(t,e)},t.prototype.exists=function(t){return this._fieldDefs.exists(t)},Object.defineProperty(t.prototype,"head",{get:function(){return null==this._head&&(this._head=new o),this._head},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"records",{get:function(){return this._records},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fieldDefs",{get:function(){return this._fieldDefs},enumerable:!1,configurable:!0}),t.prototype.setValue=function(t,e){return this.getCurrent().setValue(t,e),this},t.prototype.getValue=function(t){return this.getCurrent().getValue(t)},t.prototype.getString=function(t){return this.getCurrent().getString(t)},t.prototype.getDouble=function(t){return this.getCurrent().getDouble(t)},t.prototype.getText=function(t){return this.getCurrent().getText(t)},t.prototype.clear=function(){this.head.fieldDefs.clear(),this._fieldDefs.clear(),this.close()},t.prototype.close=function(){this._head.close(),this._search=null,this._records=[],this._recNo=0,this._fetchNo=-1},t.prototype.locate=function(t,e){this._search||(this._search=new i(this));var n=this._search.get(t,e);return!!n&&(this.recNo=Array.from(this._records).indexOf(n)+1,!0)},Object.defineProperty(t.prototype,"jsonString",{get:function(){var t=this,e={};if(0!==this._state&&(e.state=this._state),this._message&&(e.message=this._message),this._metaInfo){if(e.meta={},this.head.fieldDefs.size>0){var n=[];this.head.fieldDefs.forEach((function(t){var e={};t.remark?e[t.code]=[t.type,t.name,t.remark]:t.name?e[t.code]=[t.type,t.name]:e[t.code]=[t.type],n.push(e)})),e.meta.head=n}if(this._records.length>0){var r=[];this._fieldDefs.forEach((function(t){var e={};t.remark?e[t.code]=[t.type,t.name,t.remark]:t.name?e[t.code]=[t.type,t.name]:e[t.code]=[t.type],r.push(e)})),e.meta.body=r}}if(this._head.size>0&&(this._metaInfo?(e.head=[],this._head.fieldDefs.forEach((function(n){e.head.push(t._head.getValue(n.code))}))):(e.head={},this._head.forEach((function(t,n){e.head[t]=n})))),this.size>0){if(e.body=[],!this._metaInfo){for(var o=[],i=0,s=this._fieldDefs.fields;i<s.length;i++){var u=s[i];o.push(u.code)}e.body.push(o)}for(var c=0,a=this._records;c<a.length;c++){for(var f=a[c],p=[],l=0,h=this._fieldDefs.fields;l<h.length;l++)u=h[l],p.push(f.getValue(u.code));e.body.push(p)}}return JSON.stringify(e)},set:function(t){var e=this;if(this.clear(),t){if(!t)throw new Error("json is null!");"string"==typeof t&&(t=JSON.parse(t)),t.hasOwnProperty("state")&&(this._state=t.state),t.hasOwnProperty("message")&&(this._message=t.message);var n=[];if(t.hasOwnProperty("meta")){if(this.setMetaInfo(!0),this._meta=t.meta,this._meta.head){this._head=new o;var r=0;this._meta.head.forEach((function(n){for(var o in n){var i=n[o],s=e._head.fieldDefs.add(o);i.length>2&&(s.remark=i[2]),i.length>1&&(s.name=i[1]),i.length>0&&(s.type=i[0]),e._head.setValue(o,t.head[r]),r+=1}}))}if(this._meta.body){var i=0;this._meta.body.forEach((function(t){for(var r in t){var o=t[r],s=e._fieldDefs.add(r);o.length>2&&(s.remark=o[2]),o.length>1&&(s.name=o[1]),o.length>0&&(s.type=o[0]),n[i]=r,i+=1}}))}}else this.setMetaInfo(!1),t.hasOwnProperty("head")&&(this._head.json=t.head);var s=t.dataset||t.body;if(s){if(s&&s.length>0)for(var u=0;u<s.length;u++)if(this._meta||0!=u)for(var c=s[u],a=this.append().getCurrent(),f=0;f<n.length;f++)a.setValue(n[f],c[f]);else n=s[0];this.first()}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"json",{get:function(){var t={};t.state=this._state,t.message=this._message,t.head=this.head.json,t.body=[];for(var e=0,n=this._records;e<n.length;e++){var r=n[e];t.body.push(r.json)}return t.metaInfo=this._metaInfo,this._metaInfo&&(t.meta={head:{},body:{}},t.meta.head=this.head.fieldDefs.json,t.meta.body=this.fieldDefs.json),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(t){this._state=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._message},set:function(t){this._message=t},enumerable:!1,configurable:!0}),t.prototype.setMessage=function(t){return this._message=t,this},Object.defineProperty(t.prototype,"metaInfo",{get:function(){return this._metaInfo},set:function(t){this._metaInfo=t},enumerable:!1,configurable:!0}),t.prototype.setMetaInfo=function(t){return this._metaInfo=t,this},t.prototype.appendDataSet=function(t){var e=this;t.head.fieldDefs.forEach((function(n){e.head.setValue(n.code,t.head.getValue(n.code))}));var n=t.bindEnabled,r=t.recNo,o=this.bindEnabled;for(t.bindEnabled=!1,this.bindEnabled=!1,t.first();t.fetch();)this.append(),t._fieldDefs.forEach((function(n){e.setValue(n.code,t.getValue(n.code))}));t.recNo=r,t.bindEnabled=n,this.bindEnabled=o},t.prototype.forEach=function(t){for(var e=0,n=this._records;e<n.length;e++){var r=n[e];t.call(this,r)}},t.prototype.registerBind=function(t,e){void 0===e&&(e=!0),e?this._bindControls.add(t):this._bindControls.delete(t)},t.prototype.refreshBind=function(t){void 0===t&&(t=void 0),this._bindEnabled&&this._bindControls.forEach((function(e){e.doChange(t)}))},Object.defineProperty(t.prototype,"bindEnabled",{get:function(){return this._bindEnabled},set:function(t){this._bindEnabled=t},enumerable:!1,configurable:!0}),t}(),u=function(){function t(t){if(this._sid=null,this._host="/services/",this._dataIn=new s,t){var e=t.sid,n=t.host,r=t.service;e&&(this._sid=e),n&&(this._host=t.host),r&&(this._service=t.service)}}return t.prototype.exec=function(t){if(this._service){var e=this._host+this._service;this._sid&&(e=e+"?sid="+this._sid),fetch(e,{method:"POST",body:"dataIn="+this.dataIn.json,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if("application/json;charset=utf-8"==e.headers.get("content-type"))return e.json();502==e.status?t.call(this,(new s).setMessage(e.statusText)):(console.log(e),t.call(this,(new s).setMessage("服务执行时间过久，请调整操作并重试")))})).then((function(e){var n=new s(JSON.stringify(e));t.call(this,n)}))}else t.call(this,(new s).setMessage("service is null"))},Object.defineProperty(t.prototype,"sid",{get:function(){return this._sid},set:function(t){this._sid=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataIn",{get:function(){return this._dataIn},set:function(t){this._dataIn=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"service",{get:function(){return this._service},set:function(t){this._service=t},enumerable:!1,configurable:!0}),t}();var c,a=(c=function(t,e){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},c(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const f=function(t){function e(e){var n=t.call(this,e)||this;if(n._sql="",e){var r=e.sql;r&&(n.sql=r)}return n}return a(e,t),e.prototype.add=function(t){return this._sql=this._sql.trim()+" "+t.trim(),this},Object.defineProperty(e.prototype,"sql",{get:function(){return this._sql},set:function(t){this._sql=t},enumerable:!1,configurable:!0}),e.prototype.open=function(t){this.service=this.findService(this._sql),this.dataIn.head.setValue("_RecordFilter_",this._sql),this.exec(t)},e.prototype.findService=function(t){for(var e=null,n=t.split(" "),r=0;r<n.length;r++)if("from"==n[r].toLowerCase()){for(;null==n[r+1]||""==n[r+1].trim();)r++;e=n[++r];break}if(null==e)throw new Error("sql command error");return e},e}(u),p=function(){function t(){this._lines=[]}return t.prototype.print=function(t){return this._lines.push(t),this},t.prototype.println=function(t){return this._lines.push(t+"\n"),this},t.prototype.getText=function(){var t="";return this._lines.forEach((function(e){t+=e})),t},t}(),l=function(){function t(t,e){if(void 0===e&&(e=null),this._components=new Set,this._propertys=new Map,this._events=new Map,this._style=new Map,this._visible=!0,this._props={},this._cssHead=new Set,this.owner=t,this._props=e,null!=e){var n=e.id,r=e.style;n&&(this.id="auto"==e.id?this.getUid():e.id),r&&this.setCssStyle(r)}}return Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(t){this._owner&&this._owner.removeComponent(this),this._owner=t,this._owner&&this._owner.addComponent(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin},set:function(t){this._origin=t},enumerable:!1,configurable:!0}),t.prototype.addComponent=function(t){return null==t||this._components.has(t)||(t._owner=this,null==t._origin&&(t._origin=null!=this._origin?this._origin:this),this._components.add(t)),this},t.prototype.removeComponent=function(t){return null!=t&&(t._origin==t._owner&&(t._origin=null),t._owner=null,this._components.delete(t)),this},t.prototype.getComponents=function(){return Array.from(this._components.values())},t.prototype.getComponentCount=function(){return this._components.size},Object.defineProperty(t.prototype,"rootLabel",{get:function(){return this._rootLabel},set:function(t){this._rootLabel=t},enumerable:!1,configurable:!0}),t.prototype.beginOutput=function(t){if(this._style.size>0){var e="";this._style.forEach((function(t,n){t?e=e+(n+":")+t+";":e+=n+";"})),this.writeProperty("style",e)}else this._propertys.delete("style");this._rootLabel&&(t.print("<"+this._rootLabel),this._propertys.forEach((function(e,n){t.print(" "+n+'="'+e+'"')})),t.print(">"))},t.prototype.output=function(t){if(this._visible){this.beginOutput(t);for(var e=0,n=this.getComponents();e<n.length;e++)n[e].output(t);this.endOutput(t)}},t.prototype.endOutput=function(t){this._rootLabel&&t.print("</"+this._rootLabel+">"),this.cssOutput()},t.prototype.cssOutput=function(){if(0!=this.cssHead.size){for(var t="",e=0,n=Array.from(this._cssHead.values());e<n.length;e++)t&&(t+="\n"),t+=n[e].trim();var r=this.getUid()+"_style",o=document.getElementById(r);if(null==o){(o=document.createElement("style")).id=r;var i=document.createTextNode(t);o.appendChild(i),document.head.appendChild(o)}else o.innerHTML=t}},t.prototype.toString=function(){var t=new p;return this.output(t),t.getText()},t.prototype.readProperty=function(t){return this._propertys.get(t)},t.prototype.writeProperty=function(t,e){return e?this._propertys.set(t,e):this._propertys.delete(t),this},Object.defineProperty(t.prototype,"id",{get:function(){return this.readProperty("id")},set:function(t){this.writeProperty("id",t)},enumerable:!1,configurable:!0}),t.prototype.getUid=function(){var t=this.id;if(null==t){if(this._owner){var e=this._owner.getComponentCount();t=this._owner.getUid()+"_"+e}else t="origin";this.id=t}return t},Object.defineProperty(t.prototype,"cssHead",{get:function(){return this._cssHead},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssClass",{get:function(){return this.readProperty("class")},set:function(t){this.writeProperty("class",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},enumerable:!1,configurable:!0}),t.prototype.setCssStyle=function(t){if(null==t)return this._style.clear(),this;for(var e=0,n=t.split(";");e<n.length;e++){var r=n[e];if(0!=r.trim().length){var o=r.split(":");2==o.length?this._style.set(o[0].trim(),o[1].trim()):this._style.set(r.trim(),null)}}return this},t.prototype.render=function(t){if(void 0===t&&(t=null),null!=t&&(this.container=t),"undefined"!=typeof document&&null!=document){var e=this._container?this._container:this.id;if(e){var n=document.getElementById(e);n?(n.outerHTML=this.toString(),this.registerEvents(this)):console.log("not find element: "+e)}else this._owner?this._owner.render():console.log(this.id+".render error: container is null")}else console.log(this.toString())},t.prototype.registerEvents=function(t){if(t.visible){t.id&&t._events.forEach((function(e,n){var r=t.id,o=n,i=n.split(".");2==i.length&&(r=r+"_"+i[0],o=i[1]);var s=document.getElementById(r);if(!s)throw new Error("not find element: "+r);s.addEventListener(o,e)}));for(var e=0,n=t.getComponents();e<n.length;e++){var r=n[e];this.registerEvents(r)}}},t.prototype.addEventListener=function(t,e){if(!this.getUid())throw console.log(this),new Error("this uid is null");this._events.set(t,e)},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!1,configurable:!0}),t.prototype.getComponent=function(t,e){void 0===e&&(e=null);var n=e;null==n&&(n=this);for(var r=0,o=n.getComponents();r<o.length;r++)if((u=o[r]).id==t)return u;for(var i=0,s=n.getComponents();i<s.length;i++){var u,c=(u=s[i]).getComponent(t,u);if(null!=c)return c}return null},Object.defineProperty(t.prototype,"props",{get:function(){return this._props},enumerable:!1,configurable:!0}),t}();var h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const d=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;if(r.rootLabel="button",n){var o=n.text;o&&(r.text=o)}return r}return h(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t},enumerable:!1,configurable:!0}),e.prototype.output=function(t){this.beginOutput(t),this._text&&t.print(this._text),this.endOutput(t)},e}(l);var _=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const y=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r.rootLabel="div",r}return _(e,t),e}(l);var g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const b=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;if(n){var o=n.text;o&&(r.text=o)}return r}return g(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t},enumerable:!1,configurable:!0}),e.prototype.output=function(t){this._text&&t.print(this._text)},e}(l);var v=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const m=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r.rootLabel="span",r}return v(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return null==this._span?null:this._span.text},set:function(t){this._span||(this._span=new b(this)),this._span.text=t},enumerable:!1,configurable:!0}),e}(l);var w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const O=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r.rootLabel="table",r}return w(e,t),Object.defineProperty(e.prototype,"border",{get:function(){return this.readProperty("border")},set:function(t){this.writeProperty("border",t)},enumerable:!1,configurable:!0}),e}(l);var j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const P=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this,e)||this;return n.rootLabel="tr",n}return j(e,t),e}(l);var C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const S=function(t){function e(e){var n=t.call(this,e)||this;return n.rootLabel="th",n}return C(e,t),e}(l);var E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const x=function(t){function e(e){var n=t.call(this,e)||this;return n.rootLabel="td",n}return E(e,t),e}(l);var T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const N=function(t){function e(e){var n=t.call(this,e)||this;return n.rootLabel="form",n}return T(e,t),Object.defineProperty(e.prototype,"method",{get:function(){return this.readProperty("method")},set:function(t){this.writeProperty("method",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"action",{get:function(){return this.readProperty("action")},set:function(t){this.writeProperty("action",t)},enumerable:!1,configurable:!0}),e}(l);var D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const k=function(t){function e(e){var n=t.call(this,e)||this;return n.rootLabel="hr",n}return D(e,t),e.prototype.output=function(t){t.print("<hr/>")},e}(l);var V=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const A=function(t){function e(e){var n=t.call(this,e)||this;return n.rootLabel="a",n._text=new b(n),n}return V(e,t),Object.defineProperty(e.prototype,"href",{get:function(){return this.readProperty("href")},set:function(t){this.writeProperty("href",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text.text},set:function(t){this._text.text=t},enumerable:!1,configurable:!0}),e}(l);var z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const L=function(t){function e(e){var n=t.call(this,e)||this;return n.rootLabel="input",n}return z(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this.readProperty("name")},set:function(t){this.writeProperty("name",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultValue",{get:function(){return this.readProperty("value")},set:function(t){this.writeProperty("value",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return document.getElementById(this.id).innerText},set:function(t){document.getElementById(this.id).innerText=t},enumerable:!1,configurable:!0}),e.prototype.getElement=function(){if(!this.id)throw new Error("this is is null");var t=document.getElementById(this.id);if(!t)throw new Error("not find elementById: "+this.id);return t.children[1]},e}(l);var I=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const B=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r._history=[],r._content=new b(e),r}return I(e,t),e.prototype.beginOutput=function(e){this._content.text=this.html().trim();for(var n=0,r=this._history;n<r.length;n++){var o=r[n];this.cssHead.delete(o)}this._history=[];var i=this.css().trim();if(i.length>0)for(var s=0,u=i.split("\n");s<u.length;s++){var c=(o=u[s]).trim();c&&(this._history.push(c),this.cssHead.add(c))}t.prototype.beginOutput.call(this,e)},e.prototype.html=function(){return"<div>content not define</div>"},e.prototype.css=function(){return""},e}(l);var M=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const G=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e)||this;return e||(r.container="page"),r.id||(r.id="page"),n&&n.title&&(r.title=n.title),r}return M(e,t),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t},enumerable:!1,configurable:!0}),e}(y);var F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const q=function(t){function e(e,n,r){void 0===r&&(r=null);var o=t.call(this,e)||this;return o._width=0,o._export=!0,o._code=n,o._name=r||n,o}return F(e,t),e.prototype.getCode=function(){return this._code},e.prototype.getName=function(){return this._name},e.prototype.getColspan=function(){return this.readProperty("colspan")},e.prototype.setColspan=function(t){return this.writeProperty("colspan",t),this},e.prototype.getWidth=function(){return this._width},e.prototype.setWidth=function(t){return this._width=t,this},e.prototype.setAlign=function(t){return this._align=t,this},e.prototype.getAlign=function(){return this._align},e.prototype.getExport=function(){return this._export},e.prototype.setExport=function(t){return this._export=t,this},e}(l);var R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const H=function(t){function e(e){var n=t.call(this,e)||this;return n._titleVisiable=!0,n}return R(e,t),e.prototype.setCurrent=function(t){this._current=t},e.prototype.getCurrent=function(){return this._current},e.prototype.getTotalWidth=function(){var t=0;if(this.getComponents().forEach((function(e){e instanceof q&&(t+=e.getWidth())})),t<0)throw new Error("总列宽不允许小于1");if(t>600)throw new Error("总列宽不允许大于 600");return t},Object.defineProperty(e.prototype,"titleVisiable",{get:function(){return this._titleVisiable},set:function(t){this._titleVisiable=t},enumerable:!1,configurable:!0}),e.prototype.getColumn=function(t){for(var e=0,n=this.getComponents();e<n.length;e++){var r=n[e];if(r.getCode()==t)return r}return null},e.prototype.forEach=function(t){for(var e=0,n=this.getComponents();e<n.length;e++){var r=n[e];r instanceof q&&t.call(this,r)}},e.prototype.outputOfGridTitle=function(t){if(this.titleVisiable){for(var e=new P,n=0,r=this.getComponents();n<r.length;n++){var o=r[n];if(o instanceof q){var i=o;if(!i.visible)continue;var s=new S(e);if(i.getColspan()&&s.writeProperty("colspan",i.getColspan()),this.getTotalWidth()>0&&i.getWidth()>0){var u=i.getWidth()/this.getTotalWidth()*100;s.writeProperty("width",u.toFixed(1)+"%")}new b(s,{text:i.getName()})}}e.output(t)}},e}(l);var U=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const W=function(t){function e(e){return t.call(this,e)||this}return U(e,t),e.prototype.output=function(t){var e=this,n=!1,r=new P;r.id="tr"+this.getCurrent().dataSet.recNo,this.forEach((function(t){if(t.visible){var o=e.getCurrent().getText(t.getCode()),i=new x(r);t.getColspan()&&i.writeProperty("colspan",t.getColspan()),t.getAlign()&&i.writeProperty("align",t.getAlign()),new b(i,{text:o}),o&&(n=!0)}})),n&&r.output(t)},e.prototype.getColumnCount=function(){for(var t=0,e=0,n=this.getComponents();e<n.length;e++){n[e]instanceof q&&(t+=1)}return t},e}(H);var J=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const K=function(t){function e(e){var n=t.call(this,e)||this;return n.titleVisiable=!1,n}return J(e,t),e.prototype.output=function(t){for(var e=this,n=0,r=0,o=this.owner.getComponents();r<o.length&&o[r]!=this;r++)n+=1;if(this.forEach((function(t){if(t.visible){var n=e.getCurrent().getText(t.getCode());n&&(n=n+t.getName()+": "+n+" ")}})),"".length>0){var i=new P;i.id="tr"+this.getCurrent().dataSet.recNo+"_"+n,i.setCssStyle("display:none");var s=new x(i);this._master&&s.writeProperty("colspan",""+this._master.getColumnCount()),new b(s,{text:""}),i.output(t)}},Object.defineProperty(e.prototype,"master",{get:function(){return this._master},set:function(t){this._master=t},enumerable:!1,configurable:!0}),e}(H);var Q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const X=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r._groups=[],r.border="1",r.setCssStyle("width:100%"),r}return Q(e,t),Object.defineProperty(e.prototype,"dataSet",{get:function(){return this._dataSet},set:function(t){this._dataSet=t,t.registerBind(this)},enumerable:!1,configurable:!0}),e.prototype.output=function(t){0==this._groups.length||0==this._groups[0].getComponentCount()?this.style.set("display","none"):this.style.delete("display"),this.beginOutput(t);var e=null;if(this._groups.forEach((function(n){n instanceof W&&(e=n).outputOfGridTitle(t)})),this._groups.forEach((function(n){if(n instanceof K){var r=n;r.master=e,r.outputOfGridTitle(t)}})),this._dataSet){var n=this._dataSet.bindEnabled;this._dataSet.bindEnabled=!1;var r=this._dataSet.recNo;this._dataSet.first();for(var o=function(){var e=i._dataSet.getCurrent();i._groups.forEach((function(n){n.setCurrent(e),n.output(t)}))},i=this;this._dataSet.fetch();)o();this._dataSet.recNo=r,this._dataSet.bindEnabled=n}this.endOutput(t)},e.prototype.addColumns=function(t){for(var e=0,n=t.fields;e<n.length;e++){var r=n[e];this.getColumn(r.code)||new q(this,r.code,r.name?r.name:r.code)}},e.prototype.addComponent=function(e){return e instanceof H?(t.prototype.addComponent.call(this,e),this._groups.push(e)):this.getGroup(0).addComponent(e),this},e.prototype.getGroup=function(t){if(t>this._groups.length-1)for(var e=t-this._groups.length+1,n=0;n<e;n++)new W(this);return this._groups[t]},e.prototype.getColumn=function(t){for(var e=0;e<this._groups.length;e++){var n=this.getGroup(e).getColumn(t);if(n)return n}return null},e.prototype.clear=function(){for(var t=0,e=this.getComponents();t<e.length;t++)e[t].owner=null;this._groups=[],this._dataSet=null},e.prototype.exportFile=function(t){for(var e=this,n="",r=0,o=this._groups;r<o.length;r++)o[r].getComponents().forEach((function(t){var e=t;e.getExport()&&(n+=e.getName()+",")}));for(n+="\n",this._dataSet.first();this._dataSet.fetch();){for(var i=0,s=this._groups;i<s.length;i++)s[i].getComponents().forEach((function(t){var r=t;if(r.getExport()){var o=e._dataSet.getText(r.getCode());n+=o.replace(/,/g,"，")+","}}));n+="\n"}var u=new Blob([n],{type:"text/plain;charset=utf-8"});u=new Blob([String.fromCharCode(65279),u],{type:u.type});var c=window.URL.createObjectURL(u),a=document.createElement("a");a.href=c,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)},e.prototype.doChange=function(t){void 0===t&&(t=void 0),t.size&&this.render()},e}(O);var Y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Z=function(t){function e(e){var n=t.call(this,e)||this;return n._pageSize=100,n._size=0,n._pageNo=1,n}return Y(e,t),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.setPageSize=function(t){return this._pageSize=t,this},e.prototype.getPageSize=function(){return this._pageSize},e.prototype.setPageNo=function(t){return t<1?this._pageNo=1:t<this.getCount()?this._pageNo=t:this._pageNo=this.getCount(),this},e.prototype.getPageNo=function(){return this._pageNo},Object.defineProperty(e.prototype,"dataSet",{get:function(){return this._dataSet},set:function(t){this._dataSet=t,this._size=t?t.size:0},enumerable:!1,configurable:!0}),e.prototype.getBegin=function(){return(this._pageNo-1)*this._pageSize+1},e.prototype.getEnd=function(){var t=this._pageNo*this._pageSize;return t<this._size?t:this._size},e.prototype.getCount=function(){var t=this._size%this._pageSize;return(this._size-t)/this._pageSize+(t>0?1:0)},e.prototype.forEach=function(t){if(null==this._dataSet)throw new Error("this.dataSet is null");for(var e=this.getBegin();e<=this.getEnd();e++)this._dataSet.recNo=e+1,t(this._dataSet.getCurrent())},e}(l);var $=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tt=function(t){function e(){var e=t.call(this,null)||this;return e._pageNo=0,e._bindControls=new Set,e._bindEnabled=!0,e.id="app",e.container="app",e}return $(e,t),Object.defineProperty(e.prototype,"title",{get:function(){return document.title},set:function(t){document.title=t},enumerable:!1,configurable:!0}),e.prototype.addComponent=function(e){return t.prototype.addComponent.call(this,e),e instanceof G&&(e.setCssStyle("height:100vh;display:flex;flex-direction: column;"),e.id="page"+this.getComponentCount(),this._pageNo!=this.getPages().length-1&&(e.visible=!1)),this},e.prototype.run=function(){document.body.style.margin="0",document.body.style.padding="0",this.render()},Object.defineProperty(e.prototype,"pageNo",{get:function(){return this._pageNo},set:function(t){this._pageNo!=t&&(this._pageNo>-1&&(this.getPages()[this._pageNo].visible=!1),this._pageNo=t,this._pageNo>-1&&(this.getPages()[this._pageNo].visible=!0),this.render())},enumerable:!1,configurable:!0}),e.prototype.getPages=function(){for(var t=[],e=0,n=this.getComponents();e<n.length;e++){var r=n[e];r instanceof G&&t.push(r)}return t},e.prototype.getActivePage=function(){for(var t=0,e=0,n=this.getComponents();e<n.length;e++){var r=n[e];if(r instanceof G){if(this._pageNo==t)return r;t++}}return null},e.prototype.registerBind=function(t,e){e?this._bindControls.add(t):this._bindControls.delete(t)},e.prototype.refreshBind=function(t){void 0===t&&(t=void 0),this._bindEnabled&&this._bindControls.forEach((function(e){e.doChange(t)}))},Object.defineProperty(e.prototype,"bindEnabled",{get:function(){return this._bindEnabled},set:function(t){this._bindEnabled=t},enumerable:!1,configurable:!0}),e}(y);const et=tt;new tt;var nt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const rt=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return nt(e,t),e}(y);var ot=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const it=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r.rootLabel="div",null==r.id&&(r.id=r.getUid()),r._label=new m(r),n&&n.label?r._label.text=n.label:r._label.text="label:",r.input=new L(r),r}return ot(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return this._label.text},set:function(t){this._label.text=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultValue",{get:function(){return this.readProperty("value")},set:function(t){this.writeProperty("value",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var t=this.getElement();return t?t.value:null},set:function(t){var e=this.getElement();e&&(e.value=t)},enumerable:!1,configurable:!0}),e.prototype.getElement=function(){if(!this.id)return null;var t=document.getElementById(this.id);return t?t.children[1]:null},e}(l);var st=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ut=function(t){function e(e,n){return void 0===n&&(n=null),t.call(this,e,n)||this}return st(e,t),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSource},set:function(t){this._dataSource&&this._dataSource.registerBind(this,!1),this._dataSource=t,this._dataSource&&this._dataSource.registerBind(this,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataField",{get:function(){return this._dataField},set:function(t){this._dataField=t},enumerable:!1,configurable:!0}),e.prototype.doChange=function(t){if(void 0===t&&(t=void 0),this._dataSource&&this._dataField){var e=this._dataSource.getCurrent();this.value=e?e.getString(this._dataField):""}},e.prototype.beginOutput=function(e){if(this._dataSource&&this._dataField){var n="",r=this._dataSource.getCurrent();r&&(n=r.getString(this._dataField)),this.defaultValue=n}t.prototype.beginOutput.call(this,e)},e}(it);var ct=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const at=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r._text=new m(r),r.setCssStyle("background-color:rgb(240,240,240);"),r}return ct(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text.text},set:function(t){this._text.text=t},enumerable:!1,configurable:!0}),e}(y);var ft=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const pt=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,e,n)||this;return r.addEventListener("first.click",(function(){r._dataSet.first()})),r.addEventListener("prior.click",(function(){r._dataSet.prior()})),r.addEventListener("next.click",(function(){r._dataSet.next()})),r.addEventListener("last.click",(function(){r._dataSet.last()})),r}return ft(e,t),Object.defineProperty(e.prototype,"dataSet",{get:function(){return this._dataSet},set:function(t){this._dataSet=t},enumerable:!1,configurable:!0}),e.prototype.html=function(){var t=this.getUid();return'\n<button id="'+t+'_first">first</button>\n<button id="'+t+'_prior">prior</button>\n<button id="'+t+'_next">next</button>\n<button id="'+t+'_last">last</button>\n        '},e}(B);window.sci=e})();